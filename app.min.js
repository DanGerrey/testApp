!function(){"use strict";function e(){return++c}function t(e){return e&&e.window===e}function n(e){return"string"==typeof e}function a(e){if(null==e||t(e))return!1;var a=e.length;return 1===e.nodeType&&a?!0:n(e)||Array.isArray(e)||0===a||"number"==typeof a&&a>0&&a-1 in e}function o(){return Object.create(null)}function r(t,n){var a,o=typeof t;return"function"==o||"object"==o&&null!==t?"function"==typeof(a=t.$$hashKey)?a=t.$$hashKey():void 0===a&&(a=t.$$hashKey=(n||e)()):a=t,o+":"+a}function i(e,t,n){var a,o,r=[],i=[];for(a=0;a<t.length;a++)for(o=0;o<e.length;o++)e[o][n]?e[o][n]===t[a]&&i.push(e[o]):r.push(e[o]);return i=i.concat(r)}function l(e){var t=e[0],n=e[e.length-1],a=[t];do{if(t=t.nextSibling,!t)break;a.push(t)}while(t!==n);return angular.element(a)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}var c=0,d=function(e){return e.clone[0]},u=function(e){return e.clone[e.clone.length-1]},p=function(e,t,n,a,o,r,i,l){e[n]=a,o&&(e[o]=r),e.$index=t,e.$first=0===t,e.$last=t===i-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t)),l&&(e.$group=l)},m=function(e,t){e.data("isolateScope",t)},f=function(e,t){var n,a=e.length;if(0===a)return!1;for(n=0;a>n;n++)if(w(t,e[n]))return!0;return!1},g=function(e,t){var n,a=e.length;if(0===a)return-1;for(n=0;a>n;n++)if(w(t,e[n]))return n;return-1},v=function(e,t,n){var a,o=e,r=typeof n;if(e==t)return null;do if("string"===r){if(a=" "+o.className+" ",1===o.nodeType&&a.replace(/[\t\r\n\f]/g," ").indexOf(n)>=0)return o}else if(o==n)return o;while((o=o.parentNode)&&o!=t&&9!==o.nodeType);return null},h=function(e){var t,n=e.className.replace(/[\t\r\n\f]/g," ").trim();t=n.split(" ");for(var a=0;a<t.length;a++)/\s+/.test(t[a])&&(t.splice(a,1),a--);return t},b=function(e,t){var n=h(e);return-1!==n.indexOf(t)},y=function(e,t){var n,a,o,r=e.children(),i=r.length;if(i>0)for(var l=0;i>l;l++){if(n=r.eq(l),a=!0,o=h(n[0]),o.length>0)for(var s=0;s<t.length;s++)if(-1===o.indexOf(t[s])){a=!1;break}if(a)return n}return[]},$=function(e,t){var n,a,o;if(-1!==e.text().toLowerCase().indexOf(t.toLowerCase()))return!0;for(n=e.children(),o=n.length,a=0;o>a;a++)if(-1!==n.eq(a).text().toLowerCase().indexOf(t.toLowerCase()))return!0;return!1},k=angular.element,w=angular.equals,x=angular.copy,S=angular.extend,C=angular.module("nya.bootstrap.select",[]);C.provider("nyaBsConfig",function(){var e=null,t={"en-us":{defaultNoneSelection:"Nothing selected",noSearchResult:"NO SEARCH RESULT",numberItemSelected:"%d item selected",selectAll:"Select All",deselectAll:"Deselect All"}},n=x(t);this.setLocalizedText=function(e,t){if(!e)throw new Error("localeId must be a string formatted as languageId-countryId");n[e]||(n[e]={}),n[e]=S(n[e],t)},this.useLocale=function(t){e=t},this.$get=["$locale",function(a){var o;return o=e?n[e]:n[a.id],o||(o=t["en-us"]),o}]}),C.controller("nyaBsSelectCtrl",function(){var e=this;e.keyIdentifier=null,e.valueIdentifier=null,e.isMultiple=!1,e.onCollectionChange=function(){},e.setId=function(t){e.id=t||"id#"+Math.floor(1e4*Math.random())}}),C.directive("nyaBsSelect",["$parse","$document","$timeout","nyaBsConfig",function(e,t,n,a){var o="Nothing selected",r='<button class="btn btn-default dropdown-toggle" type="button"><span class="pull-left filter-option"></span>&nbsp;<span class="caret"></span></button>',i='<div class="dropdown-menu open"></div>',l='<div class="bs-searchbox"><input type="text" class="form-control"></div>',c='<ul class="dropdown-menu inner"></ul>',d='<li class="no-search-result"><span>NO SEARCH RESULT</span></li>',u='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button class="actions-btn bs-select-all btn btn-default">SELECT ALL</button><button class="actions-btn bs-deselect-all btn btn-default">DESELECT ALL</button></div></div>';return{restrict:"ECA",require:["ngModel","nyaBsSelect"],controller:"nyaBsSelectCtrl",compile:function(p,m){p.addClass("btn-group");var S,C,A,E,q,F,T,D,M=function(){var e;return e=m.titleTpl?k(m.titleTpl):m.title?document.createTextNode(m.title):O.defaultNoneSelectionTpl?k(O.defaultNoneSelectionTpl):O.defaultNoneSelection?document.createTextNode(O.defaultNoneSelection):document.createTextNode(o)},L=p.children(),P=k(r),j=k(i),_=k(c),O=a,U="undefined"!=typeof m.multiple;for(E=h(p[0]),E.forEach(function(e){/btn-(?:primary|info|success|warning|danger|inverse)/.test(e)&&(p.removeClass(e),P.removeClass("btn-default"),P.addClass(e)),/btn-(?:lg|sm|xs)/.test(e)&&(p.removeClass(e),P.addClass(e)),"form-control"===e&&P.addClass(e)}),_.append(L),q=L.length,F=0;q>F;F++)T=L.eq(F),(T.hasClass("nya-bs-option")||T.attr("nya-bs-option"))&&(T.find("a").attr("tabindex","0"),D=T.attr("value"),angular.isString(D)&&""!==D&&(T.attr("data-value",D),T.removeAttr("value")));return"true"===m.liveSearch&&(S=k(l),O.noSearchResultTpl?d=d.replace("NO SEARCH RESULT",O.noSearchResultTpl):O.noSearchResult&&(d=d.replace("NO SEARCH RESULT",O.noSearchResult)),C=k(d),j.append(S),_.append(C)),"true"===m.actionsBox&&U&&(O.selectAllTpl?u=u.replace("SELECT ALL",O.selectAllTpl):O.selectAll&&(u=u.replace("SELECT ALL",O.selectAll)),O.deselectAllTpl?u=u.replace("DESELECT ALL",O.deselectAllTpl):O.selectAll&&(u=u.replace("DESELECT ALL",O.deselectAll)),A=k(u),j.append(A)),P.children().eq(0).append(M()),j.append(_),p.append(P),p.append(j),function(a,o,r,i){function l(){var e,t,n=V.children(),a=n.length;for(e=0;a>e;e++)if(t=n.eq(e),t.hasClass("active")&&t.hasClass("nya-bs-option")&&!t.hasClass("not-match"))return t;return null}function c(e){for(var t,n=e.childNodes,a=n.length,o=0;a>o;o++)if(t=n[o],1===t.nodeType&&"a"===t.tagName.toLowerCase()){t.focus();break}}function d(e){var t;t=e?V.children().eq(0):V.children().eq(V.children().length-1);for(var n=0;n<V.children().length;n++){var a=V.children().eq(n);if(!a.hasClass("not-match")&&a.hasClass("selected"))return V.children().eq(n)[0]}return!t.hasClass("nya-bs-option")||t.hasClass("disabled")||t.hasClass("not-match")?e?u(t[0],"nextSibling"):u(t[0],"previousSibling"):t[0]}function u(e,t){if(!e||b(e,"nya-bs-option")){for(var n=e;(n=s(n,t))&&n.nodeType;)if(b(n,"nya-bs-option")&&!b(n,"disabled")&&!b(n,"not-match"))return n;return null}}function p(e){if(j&&!L){var t,n,o;if(t=V.find("li"),t.length>0){n=T.$modelValue,o=Array.isArray(n)?x(n):[];for(var r=0;r<t.length;r++){var i=k(t[r]);if(!i.hasClass("disabled")){var l,s;l=h(i),"undefined"!=typeof l&&(s=g(o,l),e&&-1==s?(o.push(l),i.addClass("selected")):e||-1==s||(o.splice(s,1),i.removeClass("selected")))}}T.$setViewValue(o),a.$digest(),C()}}}function m(e){var t,n,r,i=T.$modelValue;t=h(e),"undefined"!=typeof t&&(j?(n=Array.isArray(i)?x(i):[],r=g(n,t),-1===r?(n.push(t),e.addClass("selected")):(n.splice(r,1),e.removeClass("selected"))):(V.children().removeClass("selected"),n=t,e.addClass("selected"))),T.$setViewValue(n),a.$digest(),j||(o.hasClass("open")&&o.triggerHandler("blur"),o.removeClass("open")),C()}function h(e){var t;return F?(t=e.data("isolateScope"),F(t)):D.valueIdentifier||D.keyIdentifier?(t=e.data("isolateScope"),t[D.valueIdentifier]||t[D.keyIdentifier]):e.attr("data-value")}function S(e){var t=e.find("a");return 0===t.children().length||t.children().eq(0).hasClass("check-mark")?t[0].firstChild.cloneNode(!1):t.children().eq(0)[0].cloneNode(!0)}function C(){var e=T.$modelValue;o.triggerHandler("change");var t=_.children().eq(0);return"undefined"==typeof e?(t.empty(),void t.append(M())):void(j&&0===e.length?(t.empty(),t.append(M())):n(function(){var n,a,o,i,l,s,c=V.children(),d=c.length,u=[];if(j&&"count"===r.selectedTextFormat?s=1:j&&r.selectedTextFormat&&(l=r.selectedTextFormat.match(/\s*count\s*>\s*(\d+)\s*/))&&(s=parseInt(l[1],10)),"undefined"!=typeof s&&e.length>s)return t.empty(),void(O.numberItemSelectedTpl?t.append(k(O.numberItemSelectedTpl.replace("%d",e.length))):O.numberItemSelected?t.append(document.createTextNode(O.numberItemSelected.replace("%d",e.length))):t.append(document.createTextNode(e.length+" items selected")));for(o=0;d>o;o++)a=c.eq(o),a.hasClass("nya-bs-option")&&(n=h(a),j?Array.isArray(e)&&f(e,n)&&(i=a.attr("title"),i?u.push(document.createTextNode(i)):u.push(S(a))):w(e,n)&&(i=a.attr("title"),i?u.push(document.createTextNode(i)):u.push(S(a))));if(0===u.length)t.empty(),t.append(M());else if(1===u.length)t.empty(),t.append(u[0]);else for(t.empty(),o=0;o<u.length;o++)t.append(u[o]),o<u.length-1&&t.append(document.createTextNode(", "))}))}function A(){var e,t,n=V.find("li"),a=n.length;for(t=0;a>t;t++)if(e=n.eq(t),e.hasClass("nya-bs-option")||e.attr("nya-bs-option")){E=e[0].clientHeight;break}if(/\d+/.test(r.size)){var o=parseInt(r.size,10);V.css("max-height",o*E+"px"),V.css("overflow-y","auto")}}var E,q,F,T=i[0],D=i[1],L=!1,P=e(D.valueExp),j="undefined"!=typeof r.multiple,_=y(o,["dropdown-toggle"]),U=_.next(),V=y(U,["dropdown-menu","inner"]),N=y(U,["bs-searchbox"]),I=y(V,["no-search-result"]),R=y(U,["bs-actionsbox"]);D.valueExp&&(F=function(e,t){return P(e,t)}),D.setId(o.attr("id")),j&&(D.isMultiple=!0,T.$isEmpty=function(e){return!e||0===e.length}),"undefined"!=typeof r.disabled&&a.$watch(r.disabled,function(e){e?(_.addClass("disabled"),q=_.attr("tabindex"),_.attr("tabindex","-1"),L=!0):(_.removeClass("disabled"),q?_.attr("tabindex",q):_.removeAttr("tabindex"),L=!1)}),D.onCollectionChange=function(e){var t,n,o=[],r=T.$modelValue;if(r){if(Array.isArray(e)&&e.length>0){if(F)for(t=0;t<e.length;t++)o.push(F(a,e[t]));else for(t=0;t<e.length;t++)D.valueIdentifier?o.push(e[t][D.valueIdentifier]):D.keyIdentifier&&o.push(e[t][D.keyIdentifier]);if(j){for(n=r.length,t=0;t<r.length;t++)f(o,r[t])||(r.splice(t,1),t--);n!==r.length&&(r=x(r))}else f(o,r)||(r=o[0])}T.$setViewValue(r),C()}},V.on("click",function(e){if(!L&&!k(e.target).hasClass("dropdown-header")){var t,n=v(e.target,V[0],"nya-bs-option");if(null!==n){if(t=k(n),t.hasClass("disabled"))return;m(t)}}});var B=function(e){null===v(e.target,o.parent()[0],o[0])&&(o.hasClass("open")&&o.triggerHandler("blur"),o.removeClass("open"))};t.on("click",B),_.on("blur",function(){o.hasClass("open")||o.triggerHandler("blur")}),_.on("click",function(){var e;o.toggleClass("open"),o.hasClass("open")&&"undefined"==typeof E&&A(),"true"===r.liveSearch&&o.hasClass("open")?(e=d(!0),e&&(V.children().removeClass("active"),k(e).addClass("active"))):o.hasClass("open")&&(e=d(!0),e&&c(e))}),"true"===r.actionsBox&&j&&(R.find("button").eq(0).on("click",function(){p(!0)}),R.find("button").eq(1).on("click",function(){p(!1)})),"true"===r.liveSearch&&N.children().on("input",function(){var e,t,n,a=N.children().val(),o=0,r=V.children(),i=r.length;if(a){for(e=0;i>e;e++)t=r.eq(e),t.hasClass("nya-bs-option")&&($(t.find("a"),a)?(t.removeClass("not-match"),o++):t.addClass("not-match"));0===o?I.addClass("show"):I.removeClass("show")}else{for(e=0;i>e;e++)t=r.eq(e),t.hasClass("nya-bs-option")&&t.removeClass("not-match");I.removeClass("show")}n=d(!0),n&&(r.removeClass("active"),k(n).addClass("active"))}),T.$render=function(){var e,t,n=T.$modelValue,a=V.children(),o=a.length;if("undefined"==typeof n)for(e=0;o>e;e++)a.eq(e).hasClass("nya-bs-option")&&a.eq(e).removeClass("selected");else for(e=0;o>e;e++)a.eq(e).hasClass("nya-bs-option")&&(t=h(a.eq(e)),j?f(n,t)?a.eq(e).addClass("selected"):a.eq(e).removeClass("selected"):w(n,t)?a.eq(e).addClass("selected"):a.eq(e).removeClass("selected"));C()},o.on("keydown",function(e){var t=e.keyCode;if(27===t||13===t||38===t||40===t){if(e.preventDefault(),L)return void e.stopPropagation();var n,a,i,s,p=v(e.target,o[0],_[0]);"true"===r.liveSearch?a=v(e.target,o[0],N[0]):n=v(e.target,o[0],U[0]),p?13!==t&&38!==t&&40!==t||o.hasClass("open")||(e.stopPropagation(),o.addClass("open"),"undefined"==typeof E&&A(),"true"===r.liveSearch?(N.children().eq(0)[0].focus(),s=d(!0),s&&(V.children().removeClass("active"),k(s).addClass("active"))):(s=d(!0),s&&c(s))):n?27===t?(_[0].focus(),o.hasClass("open")&&o.triggerHandler("blur"),o.removeClass("open"),e.stopPropagation()):38===t?(e.stopPropagation(),s=u(e.target.parentNode,"previousSibling"),s?c(s):(s=d(!1),s&&c(s))):40===t?(e.stopPropagation(),s=u(e.target.parentNode,"nextSibling"),s?c(s):(s=d(!0),s&&c(s))):13===t&&(e.stopPropagation(),i=k(e.target.parentNode),i.hasClass("nya-bs-option")&&(m(i),j||_[0].focus())):a&&(27===t?(_[0].focus(),o.removeClass("open"),e.stopPropagation()):38===t?(e.stopPropagation(),i=l(),i&&(s=u(i[0],"previousSibling"),s?(i.removeClass("active"),k(s).addClass("active")):(s=d(!1),s&&(i.removeClass("active"),k(s).addClass("active"))))):40===t?(e.stopPropagation(),i=l(),i&&(s=u(i[0],"nextSibling"),s?(i.removeClass("active"),k(s).addClass("active")):(s=d(!0),s&&(i.removeClass("active"),k(s).addClass("active"))))):13===t&&(i=l(),i&&(m(i),j||_[0].focus())))}}),a.$on("$destroy",function(){V.off(),_.off(),N.off(),t.off("click",B)})}}}}]),C.directive("nyaBsOption",["$parse",function(e){var t=/^\s*(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/;return{restrict:"A",transclude:"element",priority:1e3,terminal:!0,require:["^nyaBsSelect","^ngModel"],compile:function(n,s){var c=s.nyaBsOption,g=document.createComment(" end nyaBsOption: "+c+" "),v=c.match(t);if(!v)throw new Error("invalid expression");var h,b,y,$,x,S=s.value,C=S?e(S):null,A=v[3]||v[1],E=v[2],q=v[4],F=v[5]?e(v[5]):null,T=v[6],D={$id:r},M={};return T?$=e(T):(h=function(e,t){return r(t)},b=function(e){return e}),function(e,t,n,r,s){function c(e){var n,r,c,$,S,C,q,F,D,M,P,_,O,U,V,N=t[0],I=o(),R=[];if(x&&(_=[]),a(e))C=e,S=y||h;else{S=y||b,C=[];for(var B in e)e.hasOwnProperty(B)&&"$"!=B.charAt(0)&&C.push(B);C.sort()}for(q=C.length,F=new Array(q),n=0;q>n;n++)if(r=e===C?n:C[n],c=e[r],$=S(r,c,n),V={},E&&(V[E]=r),V[A]=c,R.push(V),x&&(M=x(r,c),-1===_.indexOf(M)&&M&&_.push(M)),j[$])D=j[$],delete j[$],x&&(D.group=M),D.key=r,D.value=c,I[$]=D,F[n]=D;else{if(I[$])throw F.forEach(function(e){e&&e.scope&&(j[e.id]=e)}),new Error("Duplicates in a select are not allowed. Use 'track by' expression to specify unique keys.");F[n]={id:$,scope:void 0,clone:void 0,key:r,value:c},I[$]=!0,M&&(F[n].group=M)}_&&_.length>0&&(F=i(F,_,"group"));for(var H in j)D=j[H],U=l(D.clone),U.removeData("isolateScope"),U.remove(),D.scope.$destroy();for(n=0;q>n;n++)D=F[n],D.scope?(P=N,d(D)!=P&&k(N).after(D.clone),N=u(D),p(D.scope,n,A,D.value,E,D.key,q,D.group)):s(function(e,t){m(e,t),D.scope=t;var a=g.cloneNode(!1);e[e.length++]=a,k(N).after(e),e.addClass("nya-bs-option"),c=v?v(D.key,D.value):D.value||D.key,T.isMultiple?Array.isArray(L.$modelValue)&&f(L.$modelValue,c)&&e.addClass("selected"):w(c,L.$modelValue)&&e.addClass("selected"),N=a,D.clone=e,I[D.id]=D,p(D.scope,n,A,D.value,E,D.key,q,D.group)}),_&&void 0!=_&&_.length>0&&(O&&O===D.group?D.clone.removeClass("first-in-group"):D.clone.addClass("first-in-group"),O=D.group,D.clone.addClass("group-item"));j=I,T.onCollectionChange(R)}var v,T=r[0],L=r[1],P={};$&&(y=function(t,n,a){return E&&(D[E]=t),D[A]=n,D.$index=a,$(e,D)}),F&&(x=function(t,n){return E&&(M[E]=t),M[A]=n,F(e,M)}),E&&(T.keyIdentifier=E),A&&(T.valueIdentifier=A),C&&(T.valueExp=S,v=function(t,n){return E&&(P[E]=t),P[A]=n,C(e,P)});var j=o();"true"===n.deepWatch?e.$watch(q,c,!0):e.$watchCollection(q,c)}}}}])}(),angular.module("angular-datepicker",[]).directive("pickADate",["$timeout",function(e){return{restrict:"A",scope:{pickADate:"=",pickADateOptions:"="},link:function(e,t,n){function a(n){if("function"==typeof l&&l.apply(this,arguments),!e.$$phase&&!e.$root.$$phase){var a=t.pickadate("picker").get("select");a&&e.$apply(function(){return n.hasOwnProperty("clear")?void(e.pickADate=null):(e.pickADate&&"string"!=typeof e.pickADate||(e.pickADate=new Date(0)),e.pickADate.setYear(a.obj.getFullYear()),e.pickADate.setMonth(a.obj.getMonth()),void e.pickADate.setDate(a.obj.getDate()))})}}function o(e){}function r(e){if("function"==typeof s&&s.apply(this,arguments),"undefined"!=typeof cordova&&cordova.plugins&&cordova.plugins.Keyboard){var t=function(){cordova.plugins.Keyboard.close(),window.removeEventListener("native.keyboardshow",this)};window.addEventListener("native.keyboardshow",t),setTimeout(function(){window.removeEventListener("native.keyboardshow",t)},500)}}var i=e.pickADateOptions||{},l=i.onSet,s=(i.onOpen,i.onClose);void 0!=i.min&&""!=i.min&&null!=i.min&&"string"==typeof i.min?"current"==i.min?i.min=new Date:i.min=new Date(Date.parse(i.min)):null==i.min&&(i.min=""),void 0!=i.max&&""!=i.max&&null!=i.max&&"string"==typeof i.max?"current"==i.max?i.max=new Date:i.max=new Date(Date.parse(i.max)):null==i.max&&(i.max=""),void 0!=i["default"]&&""!=i["default"]&&null!=i["default"]&&"string"==typeof i["default"]?"current"==i["default"]?e.pickADate=new Date:e.pickADate=new Date(Date.parse(i["default"])):null==i["default"]&&(i["default"]=""),void 0!=i.selectYears&&i.selectYears===!0&&(i.selectYears=200),t.pickadate(angular.extend(i,{onOpen:o,onSet:a,onClose:r,container:document.body})),e.pickADate&&("string"==typeof e.pickADate&&(e.pickADate=new Date(Date.parse(e.pickADate))),t.pickadate("picker").set("select",e.pickADate))}}}]).directive("pickATime",function(){return{restrict:"A",scope:{pickATime:"=",pickATimeOptions:"="},link:function(e,t,n){function a(n){if("function"==typeof i&&i.apply(this,arguments),!e.$$phase&&!e.$root.$$phase){var a=t.pickatime("picker").get("select");a&&e.$apply(function(){return n.hasOwnProperty("clear")?void(e.pickATime=null):(e.pickATime&&"string"!=typeof e.pickATime||(e.pickATime=new Date),e.pickATime.setHours(a.hour),e.pickATime.setMinutes(a.mins),e.pickATime.setSeconds(0),void e.pickATime.setMilliseconds(0))})}}function o(e){if("function"==typeof l&&l.apply(this,arguments),"undefined"!=typeof cordova&&cordova.plugins&&cordova.plugins.Keyboard){var t=function(){cordova.plugins.Keyboard.close(),window.removeEventListener("native.keyboardshow",this)};window.addEventListener("native.keyboardshow",t),setTimeout(function(){window.removeEventListener("native.keyboardshow",t)},500)}}var r=e.pickATimeOptions||{},i=r.onSet,l=r.onClose;void 0!=r.min&&""!=r.min&&"string"==typeof r.min&&("current"==r.min?r.min=new Date:r.min=new Date(Date.parse(r.min))),void 0!=r.max&&""!=r.max&&"string"==typeof r.max&&("current"==r.max?r.max=new Date:r.max=new Date(Date.parse(r.max))),void 0!=r["default"]&&""!=r["default"]&&"string"==typeof r["default"]&&("current"==r["default"]?e.pickATime=new Date:e.pickATime=new Date(Date.parse(r["default"]))),t.pickatime(angular.extend(r,{onSet:a,onClose:o,container:document.body})),e.pickATime&&("string"==typeof e.pickATime&&(e.pickATime=new Date(Date.parse(e.pickATime))),t.pickatime("picker").set("select",e.pickATime))}}});var mdm={};angular.module("app",["app.core","app.routes","app.templates"]),angular.module("mdesign",[]),angular.module("app.core",["mdesign","ngSanitize","ngRoute","ngTouch","LocalStorageModule","vr.directives.slider","pascalprecht.translate","tmh.dynamicLocale","angularLoad","angles","uiSwitch","toastr","base64","ngMessages","angular-datepicker","nya.bootstrap.select"]).config(["localStorageServiceProvider","$translateProvider","tmhDynamicLocaleProvider","$compileProvider",function(e,t,n,a){e.setPrefix(""),t.useLoader("TranslationService"),t.preferredLanguage("off"),n.localeLocationPattern("assets/locale/angular-locale_{{locale}}.js"),a.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|content|file|ms-appx):/),angular.module("mdesign").directive=a.directive}]),angular.module("app.routes",[]).config(["$routeProvider",function(e){e.when("/error",{templateUrl:"components/error/error.tpl.html"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","localStorageService","$location","StackFactory","LoadingStatus","DebugFactory",function(e,t,n,a,o,r){e.$on("$routeChangeStart",function(){r.addEvent("Start route change")}),e.$on("$routeChangeSuccess",function(){"/"!=n.path()&&"/error"!=n.path()&&(a.add(n.path()),t.set("currentLocation",n.path())),o.loading=!1,r.addEvent("Route change complete")})}]),angular.module("app.core").directive("mdApp",["$compile","$q","$http","PageService","SchemaService","$rootScope","$route","localStorageService","DebugFactory",function(e,t,n,a,o,r,i,l,s){return{scope:{mdApp:"@",debug:"@",json:"="},restrict:"A",compile:function(){return{pre:function(e){void 0!=e.debug&&(s.enabled=!0);var t=l.get("appName");if("undefined"!=typeof e.mdApp)o.initApp(e.mdApp).then(function(){a.setDefault()},function(e){});else if(null!==t){var n=l.get(t);"object"!=typeof n&&(n=angular.fromJson(n)),null!==n?o.buildDom(n).then(function(){a.setDefault()}):alert("NO APP SCHEMA SET IN LOCAL STORAGE - CANNOT CONTINUE!")}else a.setDefault()},post:function(t,n){n.html('<div class="page-container" ng-class="{back: ($root.navBack), animateFull: ($root.animation)}" ng-view></div>'),e(n.contents())(t)}}}}}]),angular.module("app.core").directive("mdNavBtn",["$location","$parse","StoreFactory","$rootScope","$interpolate","localStorageService","StackFactory","$timeout",function(e,t,n,a,o,r,i,l){return{scope:{disabled:"=",location:"=",action:"=",expressions:"=",actions:"="},restrict:"E",transclude:!0,replace:!0,templateUrl:"components/nav/navBtn.tpl.html",link:function(t,s){if("undefined"==typeof t.position)switch(t.action){case"back":t.position="left";break;case"next":case"complete":default:t.position="right"}var c=o(s[0].children[0].children[0].innerHTML)(t.$parent);if(0===c.length)switch(t.action){case"next":c='Next <span class="icon icon-arrow-right"></span>';break;case"back":c='<span class="icon icon-arrow-left"></span> Back';break;case"complete":c='<span class="icon icon-checkmark-circle"></span> Complete'}s.html(c),t.evalExpressions=function(){angular.forEach(t.expressions,function(e,a){t[a]=n.evaluate(e)})},l(function(){t.evalExpressions()}),a.$on("StoreChanged",function(){t.evalExpressions()}),t.pressed=!1,t.isDisabled=function(){return t.pressed?(l(function(){t.pressed=!1}),!0):"back"==t.action?a.debug===!0:a.debug===!0?!0:t.disabled},t.doAction=function(){if(t.pressed=!0,"complete"!=t.action){var o=t.location;a.navBack=!1,"back"==t.action&&(void 0==o&&(o=i.getPrevious(e.path())),a.navBack=!0,i.remove(e.path())),e.path(o)}else{n.set("data__.env.exit","complete"),n.commit(),i.clear();var l=r.get("backUrl");null!==l?(r.remove("currentLocation"),window.location.href=l):e.path("/")}}}}}]),angular.module("app.core").controller("PageController",["data","$rootScope","SchemaService","$translate","tmhDynamicLocale","localStorageService","$timeout","StoreFactory","LoadingStatus",function(e,t,n,a,o,r,i,l,s){var c=this;i(function(){t.animation=n.getAnimationLevel()}),c.template=e.template,c.name=e.name,c.meta={valid:!1},c.load=s,c.languageToggle=t.languageToggle,c.currentLanguage=n.getDefaultLanguage()||"off",l.set("data__.env.language",c.currentLanguage),c.languageToggle&&(c.translations=n.getTranslations(),c.changeLanguage=function(e){a.use(e).then(function(n){c.currentLanguage=n,l.set("data__.env.language",n),a.refresh(e);var r="off"!==e?e:t.defaultLanguage;o.set(r)})}),c.exit=function(){if(t.cancelable){var e=null!==r.get("cancelUrl")?r.get("cancelUrl"):r.get("backUrl");null!==e&&(r.remove("currentLocation"),l.set("data__.env.exit","cancel"),l.commit(),window.location.href=e)}}}]),angular.module("app.core").directive("mdPage",["$route","$location","PageService","localStorageService","$timeout","$templateCache","StoreFactory",function(e,t,n,a,o,r,i){return{scope:{name:"@"},restrict:"E",compile:function(){return{post:function(e,n,o){e.name=o.name;var r=a.get("currentLocation");"undefined"!=typeof r&&""!=r&&r=="/"+o.name&&t.path(r)}}}}}]),angular.module("app.core").directive("timeStamp",["DebugFactory",function(e){return{restrict:"E",link:function(){e.addEvent("Page rendering finished")}}}]),angular.module("app.core").directive("mdForm",function(){return{restrict:"A",require:"^form",link:function(e,t,n,a){e.$watch(function(){return a.$valid},function(t){e.$parent.page.meta.valid=t})}}}),angular.module("app.core").directive("isolateForm",[function(){return{restrict:"A",require:"?form",link:function(e,t,n,a){if(a){var o={};angular.copy(a,o);var r=t.parent().controller("form");r.$removeControl(a);var i={$setValidity:function(e,t,n){o.$setValidity(e,t,n),r.$setValidity(e,!0,a)},$setDirty:function(){t.removeClass("ng-pristine").addClass("ng-dirty"),a.$dirty=!0,a.$pristine=!1}};angular.extend(a,i)}}}}]),angular.module("app.core").directive("mdContent",["markdownConverter","$compile","StoreFactory","$timeout","$rootScope","$sce",function(e,t,n,a,o,r){return{restrict:"E",scope:{name:"@",itemType:"@",content:"@",show:"@",expressions:"="},transclude:!0,link:function(o,r,i,l,s){o.show=void 0==o.show?!0:o.show;var c=s();c="markdown"==o.itemType?e.makeHtml(c.text()):c[0].outerHTML,r.append(angular.element('<div ng-if="show" class="content-block"></div>').html(c)),t(r.contents())(o),o.evalExpressions=function(){angular.forEach(o.expressions,function(e,t){o[t]=n.evaluate(e)})},a(function(){o.evalExpressions()}),o.$on("StoreChanged",function(){o.evalExpressions()})}}}]).provider("markdownConverter",function(){var e={};return{config:function(t){e=t},$get:function(){return new Showdown.converter(e)}}}),angular.module("app.core").directive("starRating",function(){return{restrict:"A",template:"<ul class='rating'>  <li ng-repeat='star in stars' ng-class='star' ng-click='toggle($index)'>    <i class='icon icon-star-full'></i>  </li></ul>",scope:{ratingValue:"=",max:"=",onRatingSelected:"&"},link:function(e,t,n){var a=function(){e.stars=[];for(var t=0;t<e.max;t++)e.stars.push({filled:t<e.ratingValue})};e.toggle=function(t){e.ratingValue=t+1,e.onRatingSelected({rating:t+1})},e.$watch("ratingValue",function(e,t){a()})}}}),angular.module("app.core").directive("takePhoto",["$log","StoreFactory",function(e,t){return{restrict:"E",require:"ngModel",scope:{imageUrl:"=",source:"=",quality:"="},template:'<div class="photo-control-container"><button class="btn btn-lg btn-success"><span ng-if="source == 1"><span class="icon icon-camera"></span> Take</span> <span ng-if="source == 2"><span class="icon icon-images3"></span> Choose</span> Photo</button><div class="photo-frame" ng-if="imageData != null"><button class="btn btn-danger" ng-click="removePhoto()"><span class="icon icon-cross"></span></button><img ng-src="{{imageData}}" /></div></div>',link:function(n,a,o,r){switch(n.imageData=null,n.quality=void 0===n.quality?75:n.quality,n.source){case"gallery":n.source=2;break;case"camera":default:n.source=1}n.destination=1,n.encodingType=1,a.find("button").on("click",function(){var a=t.getPluginSource("camera");a!==!1&&a.getPicture(function(t){function a(e){window.resolveLocalFileSystemURL(e,o,i)}function o(e){var t=new Date,n=t.getTime(),a=n+".jpg",o="mDesign";window.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(t){t.root.getDirectory(o,{create:!0,exclusive:!1},function(t){e.moveTo(t,a,r,i)},i)},i)}function r(e){console.log("SUCCESS MOVE: ",e),n.loadThumbnail(e.nativeURL)}function i(t){e.error(t)}1===n.source?a(t):n.loadThumbnail(t)},function(t){e.error(t)},{quality:n.quality,destinationType:n.destination,sourceType:n.source,allowEdit:1,encodingType:n.encodingType,saveToPhotoAlbum:!1})}),n.loadThumbnail=function(e){console.log("LOAD THUMBNAIL: ",e),n.$apply(function(){n.$parent.$parent.updateStore(e),n.imageData=e})},n.removePhoto=function(){n.imageData=null,n.$parent.$parent.updateStore(void 0)};var i=function(){"undefined"!=typeof n.imageUrl&&n.loadThumbnail(n.imageUrl)};document.addEventListener("deviceready",i),window.parent.document.addEventListener("deviceready",i)}}}]),angular.module("app.core").directive("takeBarcode",["$log","PluginFactory",function(e,t){return{restrict:"E",require:"ngModel",template:'<div class="input-group barcode-group"><input type="text" disabled validation="{{validators}}" name="{{name}}" id="{{name}}" ng-model="inputModel" ng-required="required" class="form-control" placeholder="{{placeholder}}"><span class="fa fa-times barcode-clear" ng-click="clear()" ng-if="inputModel"></span><span class="input-group-btn"><button class="btn btn-success" type="button"><span class="icon" ng-class="{\'icon-barcode\': (codeType == \'bar\'), \'icon-qrcode\': (codeType == \'qr\')}"></span></div>',link:function(t,n,a,o){t.codeType=a.codeType,n.on("click",function(){void 0!=cordova&&void 0!=cordova.plugins&&void 0!=cordova.plugins.barcodeScanner&&cordova.plugins.barcodeScanner.scan(function(e){var n="object"==typeof e?e.text:e;t.$parent.$parent.updateStore(n),o.$setViewValue(n)},function(t){o.$setValidity("error",!1),e.error(t)})}),t.clear=function(){t.$parent.$parent.updateStore(""),o.$setViewValue("")}}}}]),angular.module("app.core").directive("mdSignature",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){var o=t[0],r=new SignaturePad(o);r.onEnd=function(){var e=r.toDataURL();a.$setViewValue(e)};var i=o.getContext("2d");if(window.devicePixelRatio){var l=o.width,s=o.height,c=l,d=s;o.setAttribute("width",l*window.devicePixelRatio),o.setAttribute("height",s*window.devicePixelRatio),t.css("width",c+"px"),t.css("height",d+"px"),i.scale(window.devicePixelRatio,window.devicePixelRatio)}void 0!=e.inputModel&&""!=e.inputModel&&r.fromDataURL(e.inputModel),e.$watch("inputModel",function(e){void 0==e&&r.clear()})}}}),angular.module("app.core").directive("mdSelect",["$rootScope","StoreFactory","$parse","$filter","$timeout","OptionFactory",function(e,t,n,a,o,r){return{restrict:"A",require:"ngModel",link:function(n,i,l,s){var c=null,d=r.get(n.pageName+"."+n.name);n.options=void 0===d?n.$parent.options:d,n.$parent.searchable===!0&&(c=$(i),o(function(){c.selectpicker(),c.change(function(){s.$setViewValue(c.val())})})),"undefined"!=typeof n.$parent.optionsfilter&&(n.selectionValid=function(){var e=n.$parent.inputModel,r=!1;angular.forEach(n.$parent.optionsfilter,function(e,n){var a=t.evaluate(e);"undefined"!=typeof a&&(r===!1&&(r={}),r[n]=a)});var i=!1;if(r!==!1){var l=a("filter")(n.$parent.options,r);angular.forEach(l,function(t){t.value==e&&(i=!0)})}i===!1&&(s.$setViewValue(""),null!==c&&o(function(){c.selectpicker("deselectAll").selectpicker("refresh")}))},n.calcFilter=function(){"undefined"!=typeof n.optionsfilter&&(n.filterString={},angular.forEach(n.optionsfilter,function(e,a){var o=t.evaluate(e);"undefined"!=typeof o&&(n.filterString[a]=o)}),null!==c&&o(function(){c.selectpicker("refresh")}))},e.$on("StoreChanged",function(){n.calcFilter(),n.selectionValid()}),n.calcFilter(),n.selectionValid())}}}]),angular.module("app.core").directive("mdCheckbox",["OptionFactory",function(e){return{restrict:"E",scope:{required:"=",options:"=",name:"=",model:"="},templateUrl:"components/mdDynamicForm/fields/md-checkbox.tpl.html",require:"^form",link:function(t,n,a,o){var r=e.get(t.$parent.$parent.pageName+"."+t.$parent.name);t.options=void 0===r?t.$parent.options:r;var i=function(){var e=!0;(t.required===!0||"true"==t.required)&&(e=!1,angular.forEach(t.model,function(t){t===!0&&(e=!0)})),o[t.name].$setValidity("validationValid",e)};i(),t.makeSelection=function(e){void 0==t.model&&(t.model={}),t.model[e]=!t.model[e],i()}}}}]),angular.module("app.core").directive("mdRadio",["OptionFactory",function(e){return{restrict:"E",scope:{required:"=",options:"=",name:"=",model:"="},templateUrl:"components/mdDynamicForm/fields/md-radio.tpl.html",require:"^form",link:function(t,n,a,o){var r=e.get(t.$parent.$parent.pageName+"."+t.$parent.name);t.options=void 0===r?t.$parent.options:r;var i=function(){var e=!0;(t.required===!0||"true"==t.required)&&(e="undefined"!=typeof t.model),o[t.name].$setValidity("validationValid",e)};i(),t.makeSelection=function(e){t.model=e,i()}}}}]),angular.module("app.core").directive("validation",["ValidationFactory","$log",function(ValidationFactory,$log){return{restrict:"A",require:"ngModel",link:function($scope,elem,attrs,ctrl){var validationObject=!1;"undefined"!=typeof attrs.validation&&""!=attrs.validation&&(validationObject=angular.fromJson(attrs.validation)),validationObject!==!1&&angular.forEach(validationObject,function(validation){if(void 0!=validation.name&&void 0!=validation.type){var validationFunction=null;
if("custom"!=validation.type)validationFunction=function(e,t){return ValidationFactory.isValid(t,validation,$scope.pageName+"."+attrs.name)};else try{var code="validationFunction = "+validation.content;eval(code)}catch(e){$log.error("Could not eval validation function code.")}null!==validationFunction&&(ctrl.$validators[validation.name]=validationFunction)}}),$scope.$on("StoreChanged",function(){angular.forEach(validationObject,function(e){void 0!=e.name&&"expression"==e.type&&ctrl.$setValidity(e.name,ctrl.$validators[e.name](null,ctrl.$viewValue))})})}}}]),angular.module("app.core").directive("validEmail",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){var o=function(e){return a.$setValidity("validationValid",/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)),e};a.$formatters.push(o),a.$parsers.push(o)}}}),angular.module("app.core").directive("mdTranslateQuestion",["$translate","$rootScope",function(e,t){return{restrict:"A",link:function(n,a,o){t.translate&&(n.translate=function(){"undefined"!=typeof o.mdTranslateQuestion&&e(o.mdTranslateQuestion+".placeholder").then(function(e){n.placeholder=e},function(){n.placeholder=n.$parent.$parent.placeholder})},n.translate(),t.$on("$translateChangeSuccess",function(){n.translate()}))}}}]),angular.module("app.core").directive("mdGroup",["StoreFactory","$rootScope",function(e,t){return{scope:{name:"@",repeat:"="},restrict:"E",replace:!1,transclude:!0,template:"<div id='{{name}}'><ng-transclude></ng-transclude><div ng-if='repeat == true' class='group-controls'><button class='btn btn-success' ng-disabled='form.$invalid' ng-click='addItem()'><span class='icon icon-plus-circle2'></span> Add</button></div></div>",require:"?form",link:function(t,n,a,o){var r=null,i=t.$parent.$parent.page;t.repeat&&(t.form=o,r="data__.repeater."+i.name+"."+t.name),t.addItem=function(){var t={},a=n.find("md-question");angular.forEach(a,function(n){var a=angular.element(n).attr("ng-attr-name");t[a]=e.get(i.name+"."+a)}),null!==r&&(e.push(r,t),angular.forEach(a,function(t){var n=angular.element(t).attr("ng-attr-name");e.set(i.name+"."+n,void 0)}))}}}}]),angular.module("app.core").directive("mdList",["StoreFactory","$interpolate","ActionFactory","$timeout","$log",function(e,t,n,a,o){return{scope:{name:"@",content:"=",model:"@",theme:"@",search:"=",edit:"=",classes:"=",actions:"=",expressions:"="},restrict:"E",replace:!1,transclude:!0,templateUrl:"components/area/mdList/mdList.tpl.html",link:function(r,i){var l=angular.element(i)[0].attributes.row;void 0!=l&&(r.row=l.value),r.listItemClasses="",void 0!=r.classes&&r.classes.length>0&&(r.listItemClasses=r.classes.join(" ")),"bootstrap"==r.theme&&(r.listItemClasses+=" list-group-item ",r.listClasses="list-group"),r.show=!0,r.evalExpressions=function(){angular.forEach(r.expressions,function(t,n){r[n]=e.evaluate(t)})},a(function(){r.evalExpressions()}),r.$on("StoreChanged",function(){r.evalExpressions()});var s=function(e,n){if("object"==typeof e){var a={};return angular.forEach(e,function(e,t){a[t]=s(e,n)}),a}return e=e.replace("[[","{{").replace("]]","}}"),t(e)(n)};r.clickListItem=function(t){if(void 0!=r.actions&&r.actions.length>0){var a=void 0;if(void 0!=r.model)try{a=e.get(r.model)[0]}catch(i){o.error(i)}else a=r.content[t];if(void 0!=a){var l=[];angular.forEach(r.actions,function(t){if("click"==t.event){var n=angular.copy(t);n.data=s(e.parse(t.data),a),void 0!=n.expressions&&(n.expressions=s(e.parse(t.expressions),a)),l.push(n)}}),l.length>0&&n.triggerEvent("click",l)}}},r.remove=function(t){void 0!=r.model&&e.remove(r.model,t)}}}}]),angular.module("app.core").directive("compileListRow",["$interpolate",function(e){return{restrict:"A",scope:{item:"="},link:function(t,n,a){n.html(e(a.rowTemplate)(t.item))}}}]),angular.module("app.core").directive("mdTitle",function(){return{restrict:"E",replace:!1,transclude:!0,template:"<h1 ng-transclude></h1>",link:function(e,t,n){}}}),angular.module("app.core").directive("mdQuestion",["$http","$rootScope","$parse","$filter","$timeout","SchemaService","$templateCache","$log","StoreFactory",function(e,t,n,a,o,r,i,l,s){return{scope:{itemType:"@",name:"@",label:"@",placeholder:"@",message:"@","default":"@",validators:"=",expressions:"=",show:"@",disabled:"@",required:"@",model:"@",description:"@",options:"=",optionsfilter:"=",searchable:"=",multiline:"=",content:"@",max:"@",min:"@",dual:"=",step:"@",quality:"=",source:"@",actions:"=",optionSource:"@",labelProperty:"@",valueProperty:"@",groupProperty:"@"},restrict:"E",template:'<div id="{{::name}}" ng-if="show" class="form-group" ng-class="{\'has-error\': (form[name].$invalid === true), \'has-success\': (form[name].$invalid === false), \'no-error\': (type == \'static\')}"><label class="control-label">{{label}}</label><p class="description" ng-if="description">{{::description}}</p><div ng-include="templateUrl"></div><div ng-messages="form[name].$error"><div class="form-input-error" ng-message="required"><span class="icon icon-cancel-circle2"></span> {{message}}</div><div class="form-input-error" ng-repeat="validation in validators" ng-message-exp="validation.name"><span class="icon icon-cancel-circle2"></span> {{validation.message}}</div></div></div>',require:"^form",link:function(e,t,n,a){switch(e.itemType){case"select":e.templateUrl="components/mdDynamicForm/fields/templates/select.tpl.html",e.defaultMessage="Please make a selection";break;case"radio":e.templateUrl="components/mdDynamicForm/fields/templates/radio.tpl.html",e.defaultMessage="Please make a selection";break;case"checkbox":e.templateUrl="components/mdDynamicForm/fields/templates/checkbox.tpl.html",e.defaultMessage="Please make a selection";break;case"date":e.templateUrl="components/mdDynamicForm/fields/templates/date.tpl.html",e.defaultMessage="Please provide a valid date";break;case"time":e.templateUrl="components/mdDynamicForm/fields/templates/time.tpl.html",e.defaultMessage="Please provide a valid time";break;case"datetime":e.templateUrl="components/mdDynamicForm/fields/templates/datetime.tpl.html",e.defaultMessage="Please provide a valid date & time";break;case"textarea":e.templateUrl="components/mdDynamicForm/fields/templates/textarea.tpl.html",e.defaultMessage="This is a required field";break;case"number":e.templateUrl="components/mdDynamicForm/fields/templates/number.tpl.html",e.defaultMessage="Please provide a number";break;case"email":e.templateUrl="components/mdDynamicForm/fields/templates/email.tpl.html",e.defaultMessage="Please provide a valid email address";break;case"slider":e.dual?e.templateUrl="components/mdDynamicForm/fields/templates/range-slider.tpl.html":e.templateUrl="components/mdDynamicForm/fields/templates/slider.tpl.html",e.defaultMessage="Please choose a value";break;case"thumbs":e.templateUrl="components/mdDynamicForm/fields/templates/thumbs.tpl.html",e.defaultMessage="Please make a selection";break;case"rating":e.templateUrl="components/mdDynamicForm/fields/templates/rating.tpl.html",e.defaultMessage="Please provide a rating";break;case"photo":e.templateUrl="components/mdDynamicForm/fields/templates/photo.tpl.html",e.defaultMessage="Please take a photo";break;case"barcode":e.templateUrl="components/mdDynamicForm/fields/templates/barcode.tpl.html",e.defaultMessage="Please capture the barcode";break;case"qrcode":e.templateUrl="components/mdDynamicForm/fields/templates/qrcode.tpl.html",e.defaultMessage="Please capture the QR code";break;case"smiley":e.templateUrl="components/mdDynamicForm/fields/templates/smiley.tpl.html",e.defaultMessage="Please make a selection";break;case"signature":e.templateUrl="components/mdDynamicForm/fields/templates/signature.tpl.html",e.defaultMessage="Please provide your signature";break;case"switch":e.templateUrl="components/mdDynamicForm/fields/templates/switch.tpl.html",e.defaultMessage="Please make a selection";break;case"password":e.templateUrl="components/mdDynamicForm/fields/templates/password.tpl.html",e.defaultMessage="This is a required field";break;case"text":default:e.multi=void 0!=e.multiline?e.multiline:!1,e.templateUrl="components/mdDynamicForm/fields/templates/text.tpl.html",e.defaultMessage="This is a required field"}e.message="undefined"!=typeof e.message?e.message:e.defaultMessage,e.form=a;var o=e.$parent.$parent.page||e.$parent.$parent.$parent.page;e.pageName=o.name,e.key=e.pageName+"."+e.name,e.inputModel=s.get(e.pageName+"."+e.name),e.updateStore=function(t){s.set(e.pageName+"."+e.name,t)},e.$watch("inputModel",function(t){e.updateStore(t)},!0),void 0==e.inputModel&&void 0!=e["default"]&&(e.updateStore(e["default"]),e.inputModel=e["default"]),e.disabled=void 0==e.disabled?!1:e.disabled,e.required=void 0==e.required?!1:e.required,e.show=void 0==e.show?!0:e.show,e.search=void 0==e.search?!1:e.search,e.evalExpressions=function(){angular.forEach(e.expressions,function(t,n){var a=s.evaluate(t);"default"==n&&(e.inputModel=a),e[n]=a})},e.evalModel=function(){void 0!=e.model&&(e.inputModel=s.evaluate(e.model))},e.evalExpressions(),e.evalModel(),e.$on("StoreChanged",function(){e.evalExpressions(),e.evalModel()}),"select"==e.itemType&&void 0!=e.optionSource&&e.$watchCollection(function(){return s.get(e.optionSource)},function(t){var n=[];void 0!=e.labelProperty||void 0!=e.valueProperty||void 0!=e.groupValue?angular.forEach(t,function(t){var a={value:void 0!=e.valueProperty?t[e.valueProperty]:t.value,label:void 0!=e.labelProperty?t[e.labelProperty]:t.label,group:void 0!=e.groupProperty?t[e.groupProperty]:t.group};n.push(a)}):n=t,e.options=n})}}}]),angular.module("app.core").directive("mdChart",["$http","StoreFactory",function(e,t){return{restrict:"E",replace:!0,scope:{name:"@",title:"@",options:"@","default":"=",width:"@",height:"@",itemType:"@",model:"@"},template:'<div class="chart-block"><h4 ng-if="title">{{title}}</h4><canvas chart="{{itemType}}" options="options" data="data" width="width" height="height" responsive="true"></canvas></div>',link:function(e){var n=document.body.clientWidth-40;e.width=void 0!=e.width?e.width:n,e.height=void 0!=e.height?e.height:n/100*70;var a=t.get(e.$parent.$parent.page.name+"."+e.name);void 0!=a?e.data=a:"undefined"!=typeof e["default"]&&(e.data=e["default"]),void 0!=e.model&&e.$watch(function(){return t.get(e.model)},function(t){e.data=t})}}}]),angular.module("app.core").directive("mdCustom",["$http","$templateCache",function(e,t){return{scope:{name:"@",url:"@",data:"="},restrict:"E",template:'<div id="{{name}}" ng-if="show" class="form-group"><div ng-include="templateUrl"></div></div>',link:function(n,a,o){n.show=!0,"undefined"!=typeof o.url&&(void 0===t.get(o.url)&&e.get(o.url).then(function(e){t.put(o.url,e.data)},function(){$log.error('Could not load specified template URL "'+o.url+'": '),o.show=n.show=!1}),n.templateUrl=o.url)}}}]);var link=function(e,t,n,a){var o=function(){var t=!0;(e.required===!0||"true"==e.required)&&(t="undefined"!=typeof e.model&&(e.model.floor>0||e.model.ceiling>0)),a[e.name].$setValidity("validationValid",t)};o(),e.$watch("model",function(){o()},!0)};angular.module("app.core").directive("mdSlider",function(){return{restrict:"E",scope:{required:"=",name:"=",model:"=",min:"@",max:"@",step:"@",validators:"@",actions:"="},template:'<slider md-actions="{{actions}}" ng-model="model.floor" validation="{{validators}}" floor="{{min}}" ceiling="{{max}}" step="{{step}}"></slider><input type="hidden" name="{{name}}" ng-required="required" ng-model="model.floor" />',require:"^form",link:link}}).directive("mdRangeSlider",function(){return{restrict:"E",scope:{required:"=",name:"=",model:"=",min:"@",max:"@",step:"@",validators:"@",actions:"="},template:'<slider md-actions="{{actions}}" ng-model="model.floor" ng-model-range="model.ceiling" validation="{{validators}}" floor="{{min}}" ceiling="{{max}}" step="{{step}}"></slider><input type="hidden" name="{{name}}" ng-required="required" ng-model="model.floor" />',require:"^form",link:link}}),angular.module("app.core").directive("mdButton",["$rootScope","StoreFactory","$timeout",function(e,t,n){return{restrict:"E",template:'<div class="md-button-container"><button id="{{id}}" class="btn btn-default" md-actions="{{actions}}" ng-class="{{class}}" ng-disabled="disabled" ng-show="show"><span ng-transclude></span></button></div>',replace:!0,transclude:!0,scope:{id:"@","class":"@",actions:"=",expressions:"="},require:"^form",link:function(a,o,r,i){a.show=!0,a.disabled=!1,a["class"]=(a["class"]=void 0)?"btn-primary":a["class"],a.evalExpressions=function(){angular.forEach(a.expressions,function(e,n){"$form.invalid"!=e&&(a[n]=t.evaluate(e))})},e.$on("StoreChanged",function(){a.evalExpressions()}),a.$watch(function(){return i.$invalid},function(){angular.forEach(a.expressions,function(e,t){"$form.invalid"==e&&(a[t]=i.$invalid)})}),n(function(){a.evalExpressions()},200)}}}]),angular.module("app.core").directive("mdActions",["$log","ActionFactory",function(e,t){return{restrict:"A",link:function(e,n,a){if(void 0!=a.mdActions&&""!=a.mdActions){var o=angular.fromJson(a.mdActions),r=[];angular.forEach(o,function(e){-1==r.indexOf(e.event)&&(n.bind(e.event,function(){t.triggerEvent(e.event,o)}),r.push(e.event))})}}}}]),angular.module("app.core").value("Themes",[]),angular.module("app.core").directive("themes",["Themes","$rootScope",function(e,t){return{restrict:"A",link:function(n,a){n.$watch(function(){return e},function(e,n){e!=n&&angular.forEach(e,function(e){void 0!=e["theme-type"]&&("custom"!=e["theme-type"]?a.append("<link rel='stylesheet' href='"+t.basedir+"assets/css/themes/"+e["theme-type"]+".css' />"):void 0!=e.content&&a.append("<style type='text/css'>"+e.content.replace(/\\n/g).replace(/\\r/g).replace(/\\t/g)+"</style>"))})},!0)}}}]),angular.module("app.core").directive("mdAttributes",["StoreFactory","$timeout",function(e,t){return{restrict:"A",scope:{mdAttributes:"="},link:function(n,a,o){var r={},i={};o.mdExpressions&&(i=angular.fromJson(o.mdExpressions)),void 0!=n.mdAttributes&&angular.forEach(n.mdAttributes,function(e,t){"string"==typeof e&&e.indexOf("{{")>-1&&(r[t]=e)}),n.setAttributes=function(){angular.forEach(r,function(t,n){o.$set(n,e.parse(t))})},n.evalExpressions=function(){Object.keys(i).length>0&&angular.forEach(i,function(t,n){switch(n){case"show":var o=e.evaluate(t);o===!0?a.removeClass("ng-hide"):a.addClass("ng-hide")}})},n.$on("StoreChanged",function(){n.setAttributes(),n.evalExpressions()}),t(function(){n.setAttributes(),n.evalExpressions()})}}}]),angular.module("app.core").factory("PageService",["$route","$location","localStorageService","ActionFactory",function(e,t,n,a){var o=[],r=function(e){for(var t=0;t<o.length;t++)if(o[t].name==e)return!0;return!1},i={addPage:function(t){if(!r(t.name)){o.push({name:t.name,"default":"undefined"!=typeof t["default"]?t["default"]:!1});var n=new RegExp("^\\/"+t.name+"$");t.template=t.name+".html";var i={data:function(){return t}};if(void 0!=t.config){angular.forEach(t.config,function(e){switch(e.type){case"event":switch(e["item-type"]){case"onload":i.onload=function(){return a.triggerEvent("onload",e.actions)}}}})}e.routes["/"+t.name]={caseInsensitiveMatch:!1,keys:[],originalPath:"/"+t.name,regexp:n,reloadOnSearch:!0,templateUrl:"components/page/page.tpl.html",resolve:i,controller:"PageController",controllerAs:"page"}}},getPages:function(){return o},setDefault:function(){var a=!0,r=null;angular.forEach(o,function(e){a&&e["default"]===!0&&(r=e,a=!1)}),null===r&&(r=o[0]),e.routes[null]={caseInsensitiveMatch:!1,redirectTo:"/"+r.name,reloadOnSearch:!0};var i=n.get("currentLocation");"undefined"==typeof i||""==i||null===i||"undefined"==typeof e.routes[i]?t.path(r.name):t.path(i)}};return i}]),angular.module("app.core").factory("SchemaService",["$http","$q","$rootScope","$log","$translate","tmhDynamicLocale","$templateCache","angularLoad","$location","StoreFactory","PageService","StackFactory","PluginFactory","$timeout","localStorageService","OptionFactory","ApiFactory","UrlFactory","Timer","Themes","VariableFactory","$base64","ActionFactory","DebugFactory",function(e,t,n,a,o,r,i,l,s,c,d,u,p,m,f,g,v,h,b,y,$,k,w,x){function S(e){var t=!1;return angular.forEach(U.content,function(n){"page"==n.type&&n.name==e&&(t=n)}),t}function C(){return U.components}function A(){return V}function E(){return"undefined"!=typeof U.translation&&"undefined"!=typeof U.translation.data?U.translation.data:!1}function q(){return"undefined"!=typeof U.translation&&"undefined"!=typeof U.translation["default"]?U.translation["default"]:!1}function F(){var e=2;return"undefined"!=typeof U.animation&&(e="off"!==U.animation?"full"==U.animation?2:1:0),e}function T(e){return"undefined"!=typeof U.translation&&"undefined"!=typeof U.translation.data&&"undefined"!=typeof U.translation.data[e]?U.translation.data[e]:!1}function D(){var n=t.defer();return e.get(N).success(function(e){U=e,n.resolve(U),I++}).error(function(e){n.reject(e)}),n.promise}function M(a){var o=t.defer();return e.get(n.basedir+"validation_schema.json").success(function(e){var t=tv4.validate(a,e);t?o.resolve(!0):o.reject(t)}).error(function(e){o.reject(e)}),o.promise}function L(e){var o=t.defer();return U=e,n.basedir=void 0==U.basedir?"":U.basedir,M(e).then(function(){if(n.appName=U.name,n.cancelable=U.cancelable===!0,c.init(n.appName,U),u.init(n.appName),g.init(n.appName),void 0!=U.config&&angular.forEach(U.config,function(e){if(void 0!=e.name)switch(e["item-type"]){case"api":void 0!=e.url&&v.init(e);break;case"plugin":p.init(e);break;case"theme":y.push(e);break;case"variable":$.init(e);break;case"function":c.setFunction(e);break;case"url":h.init(e);break;case"timer":void 0==mdm.__timers&&(mdm.__timers={}),mdm.__timers[e.name]=new b(e.name,e["timer-type"],e.time,e.actions)}}),"undefined"!=typeof U.styles&&U.styles.length>0&&angular.forEach(U.styles,function(e){l.loadCSS(e).then(function(){})["catch"](function(){a.error('Could not load specified stylesheet "'+e+'"')})}),"undefined"!=typeof U.scripts&&U.scripts.length>0){angular.element(document.getElementsByTagName("head"));angular.forEach(U.scripts,function(e){l.loadScript(e).then(function(){})["catch"](function(){a.error('Could not load specified script "'+e+'"')})})}void 0!=U.components&&U.components.length>0&&U.components.forEach(function(e){switch(e.type){case"web-component":case"polymer":var t=document.createElement("link");t.setAttribute("rel","import"),t.setAttribute("href","data:text/html;base64,"+e.content),document.getElementsByTagName("head")[0].appendChild(t);break;case"web-component-es2015":var n=document.createElement("script");n.setAttribute("src","data:application/javascript;base64,"+e.content),document.getElementsByTagName("body")[0].appendChild(n);break;case"directive":var n=document.createElement("script");n.text=k.decode(e.content),document.getElementsByTagName("body")[0].appendChild(n)}}),angular.forEach(U.pages,function(e){var t=_(angular.element("<div></div>"),e.content);x.enabled===!0&&t.append(angular.element("<time-stamp></time-stamp>")),i.put(e.name+".html",t[0].innerHTML),d.addPage({name:e.name,"default":e["default"],config:e.config})}),o.resolve(!0)},function(){a.error(tv4.error),n.errorMessage="An invalid schema has been provided: "+tv4.error.message,s.path("error")}),o.promise}function P(e){N=e;var n=t.defer();return D(e).then(function(e){L(e).then(function(e){n.resolve(e)},function(e){n.reject(e)})},function(e){n.reject(e)}),n.promise}function j(e){var n=!1;switch(e.type){case"question":n=angular.element('<md-question id="'+e.name+'"></md-question>');break;case"content":switch(e["item-type"]){case"markdown":case"html":n=angular.element('<md-content id="'+e.name+'"><div>'+e.content+"</div></md-content>");break;case"list":n=angular.element("<md-list id='"+e.name+"'></md-list>");break;case"title":n=angular.element("<md-title id='"+e.name+"'>"+e.content+"</md-list>");break;case"group":n=e.repeat?angular.element('<md-group ng-form name="'+e.name+'" isolate-form id="'+e.name+'"></md-group>'):angular.element('<md-group id="'+e.name+'"></md-group>')}break;case"control":switch(e["item-type"]){case"button":n=angular.element('<md-button id="'+e.name+'">'+e.content+"</md-button>")}break;case"area":switch(e["item-type"]){case"static":n=angular.element('<section class="static-item panel panel-default" id="'+e.name+'"></section>');break;case"scrollable":n=angular.element('<section class="scrollable-item" id="'+e.name+'"></section>');break;case"row":n=angular.element('<section class="row-item navbar navbar-default" id="'+e.name+'"></section>')}break;case"chart":n=angular.element('<md-chart id="'+e.name+'"></md-chart>');break;case"component":if(n=angular.element(e.template),void 0!=e.content&&e.content.length>0&&n.append(e.content),void 0!=e.attributes)switch(e["item-type"]){case"directive":break;case"polymer":case"web-component":case"web-component-es2015":default:if(angular.forEach(e.attributes,function(e,t){angular.isObject(e)&&(e=angular.toJson(e)),n[0].setAttribute(t,e)}),n[0].setAttribute("md-attributes",angular.toJson(e.attributes)),void 0!=e.expressions&&Object.keys(e.expressions).length>0&&n[0].setAttribute("md-expressions",angular.toJson(e.expressions)),void 0!=e.actions&&e.actions.length>0){var a=[];angular.forEach(e.actions,function(e){-1===["click","blur","change","focus"].indexOf(e.event)?document.addEventListener(e.event,function(){t.when().then(w.call(e))}):a.push(e)}),a.length>0&&n[0].setAttribute("md-actions",angular.toJson(a))}}break;default:void 0!=e["extends"]&&(e.type=e["extends"].type,e["item-type"]=e["extends"]["item-type"],n=j(e))}return n}function _(e,t){for(var n=0;n<t.length;n++){var a=t[n],o=j(a);o!==!1&&("component"!=a.type&&angular.forEach(a,function(e,t){("content"!=t||"list"==a["item-type"])&&("object"==typeof e&&(e=angular.toJson(e)),o[0].setAttribute(t,e))}),"undefined"!=typeof a.content&&"object"==typeof a.content&&(o=_(o,a.content)),e.append(o))}return e}function O(){var e={};return angular.forEach(U,function(t,n){-1===["pages","translation"].indexOf(n)&&(e[n]=t)}),e}var U={},V={},N=null,I=0,R={initApp:P,getDom:A,buildDom:L,getTranslation:T,getTranslations:E,getDefaultLanguage:q,getPageSchema:S,getAppData:O,getAnimationLevel:F,getComponents:C};return R}]),angular.module("app.core").factory("StackFactory",["localStorageService",function(e){function t(t){l=t;var n=e.get(l+"_stack");null!=n&&(s=angular.fromJson(n))}function n(e){var t=!1;angular.forEach(s,function(n){n==e&&(t=!0)}),t===!1&&(s.push(e),r())}function a(e){var t=!1;if(angular.forEach(s,function(n,a){n==e&&(t=a)}),t!==!1){var n=s[t-1];if(void 0!=n)return n}return null}function o(e){var t=!1;angular.forEach(s,function(n,a){e==n&&(t=a)}),t!==!1&&(s.splice(t,1),r())}function r(){null!=l&&e.set(l+"_stack",s)}function i(){null!=l&&(s=[],e.remove(l+"_stack"))}var l=null,s=[],c={init:t,add:n,getPrevious:a,clear:i,remove:o};return c}]),angular.module("app.core").factory("ValidationFactory",["StoreFactory",function(e){function t(t,n,a){var o=!0;switch(n.type){case"regex":if(void 0!=t&&""!=t){var r=new RegExp(n.content);o=r.test(t)}break;case"expression":var i=angular.copy(n.content),l=null;if(i.indexOf(a)>-1){var s=new RegExp(a,"g");l="string"==typeof t?"'"+angular.copy(t)+"'":angular.copy(t),null!==l&&(i=i.replace(s,l))}var c=angular.copy(i);if(null!==l){var s=new RegExp(l+".","g");c=c.replace(s,"")}c=c.replace(/(['"].*['"])/g),c.indexOf(".")>-1?o=e.evaluate(i):void 0!=t&&""!=t&&(o=e.evaluate(i));break;default:$log.error("Invalid validation type specified.")}return o}var n={isValid:t};return n}]),angular.module("app.core").factory("TranslationService",["$q","SchemaService",function(e,t){return function(n){var a=e.defer(),o=t.getTranslation(n.key);return o!==!1?a.resolve(o):a.reject(n.key),a.promise}}]),angular.module("app.core").factory("StoreFactory",["$rootScope","$parse","localStorageService","$interval","$interpolate","$log",function(e,t,n,a,o,r){function i(e){return t(e)(mdm.store)}function l(e,n){var a=t(e),o=a.assign;return o(mdm.store,n),g(),t(e)(mdm.store)}function s(e,n){var a=t(e)(mdm.store);return void 0==a&&(a=[]),a.push(n),l(e,a),g(),t(e)(mdm.store)}function c(e,n){var a=t(e)(mdm.store);void 0!=a&&void 0!=a[n]&&a.splice(n,1),l(e,a),g()}function d(e,t){$=e;var a=n.get(e+"_data");null!==a&&(mdm.store=b(angular.copy(k),a)),l("data__.schema",angular.copy(t))}function u(t){return"object"==typeof t?angular.forEach(t,function(n,a){void 0!=n&&"string"==typeof n&&"*"!=n&&(t[a]=e.$eval(t[a],mdm.store))}):void 0!=t&&"*"!=t&&(t=e.$eval(t,mdm.store)),t}function p(e){return"object"==typeof e?angular.forEach(e,function(t,n){"string"==typeof t&&t.indexOf("{{")>-1&&(e[n]=p(e[n]))}):void 0!=e&&"*"!=e&&(e=o(e)(mdm.store)),e}function m(e,t){if(e.indexOf("{{")>-1&&(e=p(e)),void 0!=t&&0!==Object.getOwnPropertyNames(t).length){var n="?";angular.forEach(t,function(e,t){"?"!=n&&(n+="&"),e.indexOf("{{")>-1&&(e=p(e)),n+=t+"="+encodeURI(e)}),e+=n}return e}function f(){var e=angular.copy(mdm.store);return e.data__.schema=void 0,e}function g(){null!==$&&n.set($+"_data",f())}function v(){null!==$?(n.set($+".store",f()),mdm.store=angular.copy(k),g()):alert("Could not commit store to local storage as not app name was defined.")}function h(e){if(void 0!=e.name&&void 0!=e.content)try{var t=[];void 0!=e.params&&e.params.length>0&&angular.forEach(e.params,function(e){t.push(e.name)}),mdm[e.name]=new Function(t,e.content)}catch(n){r.info("Couldn't successfully eval function code (store.fct.js:148): "),r.error(n)}}function b(e,t){return angular.forEach(t,function(n,a){"object"!=typeof n?e[a]=n:(void 0==e[a]&&("[object Array]"===Object.prototype.toString.call(t[a])?e[a]=[]:e[a]={}),e[a]=b(e[a],n))}),e}function y(e){try{if(void 0!=window.plugins&&void 0!=window.plugins[e])return window.plugins[e];if(void 0!=navigator&&void 0!=navigator[e])return navigator[e];if(void 0!=cordova&&void 0!=cordova.plugins&&void 0!=cordova.plugins[e])return cordova.plugins[e];throw new Error("Plugin source could not be found")}catch(t){return r.error("Plugin '"+e+"' is not available."),r.error(t),!1}}var $=null;mdm.store={data__:{env:{},api:{},plugin:{},repeater:{},schema:{},xcallback:{success:"",error:"",cancel:"",source:""},variables:{today:new Date}}};var k=angular.copy(mdm.store),w={init:d,evaluate:u,parse:p,commit:v,get:i,set:l,push:s,remove:c,setFunction:h,parseUrl:m,getPluginSource:y};return e.$watch(function(){return mdm.store},function(t,n){t!=n&&(g(),e.$broadcast("StoreChanged"),document.dispatchEvent(new CustomEvent("StoreChanged")))},!0),document.addEventListener("StoreHasChanged",function(){e.$$phase||e.$apply()}),w}]).filter("store",["StoreFactory","$filter",function(e,t){var n=function(n,a){if(void 0!=n){var o=e.evaluate(n);return angular.isArray(o)&&void 0!=a&&(o=t("filter")(o,a)),o}};return n.$stateful=!0,n}]).filter("trust",["$sce",function(e){var t=function(t){return e.trustAsHtml(t)};return t.$stateful=!0,t}]),angular.module("app.core").factory("Plugin",["$http","$log","$q","StoreFactory","$interval",function(e,t,n,a,o){function r(e,t,n,r){if(this.name=e,this.events=[],this.polls=[],this.operations=r,void 0!=t&&(this.events=t,this.events.length>0)){var i=this;angular.forEach(this.events,function(e){window.addEventListener(e.name,function(t){a.set("data__.plugin."+i.name+"."+e.name,t)})})}if(void 0!=n&&(this.polls=n,this.polls.length>0)){var i=this;angular.forEach(this.polls,function(e){o(function(){i.callAction(e.action,e.params,e.options)},e.interval)})}}return r.prototype={callAction:function(e,o){var i=n.defer(),l=[];angular.forEach(this.operations,function(t){t.name==e&&void 0!=t.params&&(l=angular.copy(t.params))});var s=function(t){a.set("data__.plugin."+p.name+"."+e,t),i.resolve()},c=function(e){t.error(e),i.reject(e)},d=[];angular.forEach(l,function(e){var t=null;switch(e.name){case"$successCallback":t=s;break;case"$errorCallback":t=c;break;default:t=void 0!=o[e.name]?o[e.name]:e["default"]}null!==t&&d.push(t)});var u=r.getSource(this.name);if(u!==!1&&void 0!=u[e]){var p=this;try{u[e].apply(null,d)}catch(m){i.reject(m),t.error(m)}}else i.reject("Could not call action");return i.promise}},r.getSource=function(e){return a.getPluginSource(e)},r}]),angular.module("app.core").factory("OptionFactory",["$rootScope","$parse","localStorageService",function(e,t,n){function a(e){return t(e)(i)}function o(e){r=e;var t=n.get(e+"_options");null!==t&&(i=t)}var r=null,i={},l={init:o,get:a};return l}]),angular.module("app.core").factory("Api",["$http","$log","$q","StoreFactory","$injector",function(e,t,n,a,o){function r(e,t,n,a,o){this.name=e,this.url=t,this.params=n,this.headers=a,this.operations=o}return r.prototype={makeRequest:function(r,i,l){var s=n.defer(),c=this.name,d=!1;void 0==i&&(i={});var u=null;if(angular.forEach(this.operations,function(e){r==e.name&&(u=e)}),null!==u){var p={url:this.url+u.path,method:u.method,params:{},data:{},headers:{"Content-Type":"application/json"}};"JSONP"==p.method&&(p.params.callback="JSON_CALLBACK");var m=function(){var e=n.defer();return e.resolve(),e.promise},f=[m],g=function(e){var o=n.defer(),r=void 0;if(void 0!=i[e.name]?r=i[e.name]:void 0!=e["default"]?r=e["default"]:e.required===!0&&o.reject("Parameter '"+e.name+"' must be provided."),void 0!=r)switch("string"==typeof r&&r.indexOf("{{")>-1&&(r=a.parse(r)),e["in"]){case"query":p.params[e.name]=r,o.resolve();break;case"body":p.data[e.name]=r,o.resolve();break;case"formData":if(d===!1&&(p.data=new FormData),p.headers["Content-Type"]=void 0,"file"==e.type)try{window.resolveLocalFileSystemURL(r,function(t){t.file(function(t){var n=new FileReader;n.onloadend=function(n){p.data.append(e.name,new Blob([n.target.result],{type:t.type})),o.resolve()},n.readAsArrayBuffer(t)})},function(e){t.error(e),o.reject(e)})}catch(l){t.error(l),o.reject(l)}else p.data.append(e.name,r),o.resolve();d=!0;break;case"path":p.url=p.url.replace("{{"+e.name+"}}",r),o.resolve();break;case"header":p.headers[e.name]=r,o.resolve();break;default:o.reject("Unknown parameter location")}else o.resolve();return o.promise};angular.forEach(this.params,function(e){f.push(g(e))}),n.all(f).then(function(){var a=[m];angular.forEach(u.params,function(e){a.push(g(e))}),n.all(a).then(function(){e(p).then(function(e){if(void 0!=l&&l.length>0){var t=o.get("ActionFactory"),a=n.when();angular.forEach(l,function(e){"success"==e.event&&(a=a.then(t.call(e)))})}s.resolve(e.data)})["catch"](function(e){var a=!1,r=o.get("ActionFactory");if(void 0!=l&&l.length>0){var i=n.when();angular.forEach(l,function(e){"fail"==e.event&&(a=!0,i=i.then(r.call(e)))})}a===!1&&n.when().then(r.call({type:"show-notification",data:{type:"error",title:"API Call Failed!",content:"Could not successfully complete the API call '"+c+"'."}})),t.error(e),s.reject(e)})})["catch"](function(e){t.error(e),s.reject(e)})})}else s.reject("Requested operation could not be found.");return s.promise}},r.merge=function(e,t){var n={};return void 0!=e&&(n=e),void 0!=t&&angular.forEach(t,function(e,t){"object"!=typeof e?n[t]=e:(void 0==n[t]&&(n[t]={}),n[t]=merge(n[t],e))}),n},r}]),angular.module("app.core").factory("ApiFactory",["$http","$log","StoreFactory","$timeout","$q","Api","LoadingStatus","AzureApi",function(e,t,n,a,o,r,i,l){function s(e){switch(e["api-type"]){case"azure":d[e.name]=new l(e.name,e.url,e["app-id"],e["auth-type"],e.params,e.headers,e.operations);break;default:d[e.name]=new r(e.name,e.url,e.params,e.headers,e.operations)}}function c(e,r){var l=o.defer(),s=e.name;return void 0!=d[s]&&(i.loading=!0,i.message=u.message,void 0!=e.message&&(i.message=n.parse(e.message)),d[s].makeRequest(e.operation,e.params,r).then(function(t){n.set("data__.api."+s+"."+e.operation,t),a(function(){i.loading=!1},1e3),l.resolve(t)})["catch"](function(e){t.error(e),l.reject(e),i.loading=!1,i.error="There was an error retrieving data"})),l.promise}var d={},u={loading:!1,error:!1,message:"Loading data..."},p={init:s,makeRequest:c};return p}]),angular.module("app.core").factory("AzureApi",["$http","$log","StoreFactory","$timeout","localStorageService","$q","Api",function(e,t,n,a,o,r,i){
function l(e,t,n,a,r,i,l,c){this.name=e,this.url=t,this.appId=n,this.authType=a,this.params=r,this.headers=i,this.operations=l,this.actions=c,this.client=new s(this.url,this.appId);var d=o.get(this.name+"_auth");null!==d&&(this.client.currentUser=d)}var s=WindowsAzure.MobileServiceClient;return l.prototype={makeRequest:function(e,t){var a=r.defer(),o=null;if(angular.forEach(this.operations,function(t){e==t.name&&(o=t)}),null!==o){var i={method:o.method,parameters:{},body:{},headers:{}};"JSONP"==i.method&&(i.params.callback="JSON_CALLBACK");var l=!0,c=this;angular.forEach(this.params,function(e){if(l){var o=void 0;if(void 0!=t[e.name]?o=t[e.name]:void 0!=e["default"]?o=e["default"]:e.required===!0&&(a.reject("Parameter '"+e.name+"' must be provided."),l=!1),void 0!=o)switch(o.indexOf("{{")>-1&&(o=n.parse(o)),e["in"]){case"query":i.params[e.name]=o;break;case"body":i.data[e.name]=o;break;case"formData":i.headers["Content-Type"]="multipart/form-data",i.data[e.name]=o;break;case"path":c.url=c.url.replace("{{"+e.name+"}}",o),c.client=new s(c.url,c.appId)}}}),l=!0,angular.forEach(o.params,function(e){if(l){var o=void 0;if(void 0!=t[e.name]?o=t[e.name]:void 0!=e["default"]?o=e["default"]:e.required===!0&&(a.reject("Parameter '"+e.name+"' must be provided."),l=!1),void 0!=o)switch(o.indexOf("{{")>-1&&(o=n.parse(o)),e["in"]){case"query":i.params[e.name]=o;break;case"body":i.body[e.name]=o;break;case"formData":i.headers["Content-Type"]="multipart/form-data",i.body[e.name]=o;break;case"path":c.url=c.url.replace("{{"+e.name+"}}",o),c.client=new s(c.url,c.appId)}}}),angular.forEach(this.headers,function(e){void 0!=e["default"]&&(i.headers[e.name]=e["default"])}),angular.forEach(o.params,function(e){void 0!=e["default"]&&(i.headers[e.name]=e["default"])}),this.client.invokeApi(this.name,i).done(function(e){a.resolve(e.response)},function(e){e.request.status&&""!=c.authType?c.login().then(function(){c.client.invokeApi(c.name,i).done(function(e){a.resolve(e.response)},function(e){a.resolve(e)})},function(e){a.reject(e)}):a.reject(e)})}return a.promise},login:function(){var e=r.defer(),t=this;return this.client.login(this.authType).done(function(n){t.client.currentUser=n,o.set(t.name+"_auth",n),e.resolve(n)},function(t){e.reject(t)}),e.promise}},l}]),angular.module("app.core").factory("PluginFactory",["Plugin","$timeout","StoreFactory","LoadingStatus","$q",function(e,t,n,a,o){function r(t){l[t.name]=new e(t.name,t.events,t.polls,t.operations)}function i(e,r,i){var c=o.defer();a.loading=!0,a.message=s.message;var d=n.parse(angular.copy(i));return l[e].callAction(r,d).then(function(){t(function(){a.loading=!1},1e3),c.resolve()})["catch"](function(){a.loading=!1,a.error="There was an error calling the plugin",c.reject()}),c.promise}var l={},s={loading:!1,error:!1,message:"Calling plugin..."},c={init:r,callAction:i};return c}]),angular.module("app.core").value("LoadingStatus",{loading:!1,error:!1,message:"Loading data..."}),angular.module("app.core").factory("ActionFactory",["$q","StoreFactory","ApiFactory","PluginFactory","StackFactory","$rootScope","$location","$log","UrlFactory","toastr","VariableFactory",function($q,StoreFactory,ApiFactory,PluginFactory,StackFactory,$rootScope,$location,$log,UrlFactory,toastr,VariableFactory){function triggerEvent(e,t){var n=$q.when();return angular.forEach(t,function(t){t.event==e&&(n=n.then(call(t)))}),n}function evalExpressions(e,t){return angular.forEach(e,function(e,n){"expressions"!=n&&("object"==typeof e?t[n]=evalExpressions(e,t[n]):t[n]=StoreFactory.evaluate(e))}),t}function call(action){return function(){var deferred=$q.defer();switch(void 0!=action.expressions&&(action=evalExpressions(action.expressions,action)),action.type){case"javascript":try{eval(action.data),deferred.resolve()}catch(error){$log.info("Couldn't successfully eval action code and bind to event (mdActions.drct.js:17): "),$log.error(error),deferred.reject(error)}break;case"call-api":ApiFactory.makeRequest(action.data,action.actions).then(function(e){deferred.resolve(e)});break;case"call-plugin":PluginFactory.callAction(action.data.name,action.data.operation,action.data.params).then(function(e){deferred.resolve(e)});break;case"call-url":UrlFactory.makeRequest(action.data).then(function(e){deferred.resolve(e)});break;case"call-x-callback-url":var url=null;switch(action.data.type){case"x-success":url=StoreFactory.get("data__.xcallback.success");break;case"x-error":url=StoreFactory.get("data__.xcallback.error");break;case"x-cancel":url=StoreFactory.get("data__.xcallback.cancel")}url=StoreFactory.parseUrl(url,action.data.params),window.open(url);break;case"go-to-page":$rootScope.navBack=!1;var previous=StackFactory.getPrevious($location.path()),location=null;if("object"==typeof action.data?angular.forEach(action.data,function(e,t){null===location&&StoreFactory.evaluate(e)&&(location=t)}):location="/"+action.data,null!==location){var go=function(){previous==location&&($rootScope.navBack=!0),$location.path(location),deferred.resolve()};$rootScope.$$phase?go():$rootScope.$apply(function(){go()})}break;case"set-variable":VariableFactory.setVariable(action.data.name,action.data.value).then(function(e){deferred.resolve(e)});break;case"call-function":if(void 0!=action.data.name&&void 0!=mdm[action.data.name]){void 0==action.data.params&&(action.data.params={});try{mdm[action.data.name].apply(null,Array.prototype.slice.call(action.data.params,1)),deferred.resolve()}catch(e){$log.info("Couldn't successfully call function: "),$log.error(e),deferred.reject(e)}}break;case"start-timer":void 0!=action.data.name&&void 0!=mdm.__timers&&void 0!=mdm.__timers[action.data.name]?(mdm.__timers[action.data.name].start(),deferred.resolve()):deferred.reject();break;case"stop-timer":void 0!=action.data.name&&void 0!=mdm.__timers&&void 0!=mdm.__timers[action.data.name]?(mdm.__timers[action.data.name].stop(),deferred.resolve()):deferred.reject();break;case"show-notification":var type=null;switch(action.data.type){case"success":case"error":case"warning":type=action.data.type;break;case"info":default:type="info"}if(null!==type){var title=action.data.title;title.indexOf("{{")>-1&&(title=StoreFactory.parse(title));var content=action.data.content;content.indexOf("{{")>-1&&(content=StoreFactory.parse(content)),toastr[type](content,title,action.data.options)}}return deferred.promise}}var service={triggerEvent:triggerEvent,call:call};return service}]),angular.module("app.core").factory("Url",["$http","$log","$q","StoreFactory",function(e,t,n,a){function o(e,t,n,a){this.name=e,this.url=t,this.target=n,this.params=a}return o.prototype={makeRequest:function(e,t){var r=n.defer(),i=this.url,l={url:i};return l.target=void 0!=e?e:this.target,t=o.merge(this.params,t),void 0!=t&&(l.params=a.parse(t)),l.url=a.parseUrl(l.url,l.params),window.open(l.url,l.target),r.promise}},o.merge=function(e,t){var n={};return void 0!=e&&(n=e),void 0!=t&&angular.forEach(t,function(e,t){"object"!=typeof e?n[t]=e:(void 0==n[t]&&(n[t]={}),n[t]=merge(n[t],e))}),n},o}]),angular.module("app.core").factory("UrlFactory",["$http","$log","StoreFactory","$timeout","$q","Url",function(e,t,n,a,o,r){function i(e){s[e.name]=new r(e.name,e.url,e.target,e.params)}function l(e){var t=o.defer(),n=e.name;return void 0!=s[n]&&s[n].makeRequest(e.target,e.params).then(function(){t.resolve()})["catch"](function(){t.reject()}),t.promise}var s={},c={init:i,makeRequest:l};return c}]),angular.module("app.core").factory("Timer",["$timeout","$interval","ActionFactory","$q",function(e,t,n,a){function o(e,t,n,a){this.timerFunction=null,this.name=e,this.type=t,this.time=parseInt(n),this.actions=a}return o.prototype={start:function(){var o=this.actions;"delay"==this.type?e(function(){var e=a.when();angular.forEach(o,function(t){e=e.then(n.call(t))})},1e3*this.time):"interval"==this.type&&(this.timerFunction=t(function(){var e=a.when();angular.forEach(o,function(t){e=e.then(n.call(t))})},1e3*this.time))},stop:function(){"interval"==this.type&&null!=this.timerFunction&&t.cancel(this.timerFunction)}},o}]),angular.module("app.core").factory("Variable",["$q","StoreFactory",function(e,t){function n(e,t,n){this.name=e,this.type=t,this.set(n)}return n.prototype={set:function(n){var a=e.defer();if(void 0!=n)if("string"==typeof n&&n.indexOf("{{")>-1&&(n=t.parse(n)),void 0!=this.name){var o=null;switch(this.type){case"date":o=Date.parse(n);break;case"string":o=n;break;case"int":o=parseInt(n);break;case"boolean":o="true"==n||"1"==n}this.value=mdm.store.data__.variables[this.name]=o,a.resolve(o)}else a.reject("Variable must have a name");else a.resolve();return a.promise}},n}]),angular.module("app.core").factory("VariableFactory",["Variable","$q",function(e,t){function n(t){o[t.name]=new e(t.name,t["variable-type"],t.value)}function a(e,n){var a=t.defer();return void 0!=o[e]?o[e].set(n).then(function(e){a.resolve(e)})["catch"](function(e){a.reject(e)}):a.reject("Cannot find variable '"+e+"'"),a.promise}var o={},r={init:n,setVariable:a};return r}]),angular.module("app.core").factory("DebugFactory",["$rootScope","$log","$timeout",function(e,t,n){function a(e){if(i.enabled!==!1){0===r.length&&t.info("===================");var a={title:e,date:new Date},s=r[r.length-1];void 0!=s&&(a.difference=a.date.getTime()-s.date.getTime()),t.info(e+": "+a.date.toLocaleTimeString()),void 0!=a.difference&&t.info("+"+a.difference+"ms"),t.info("=== === === === ==="),r.push(a),n(function(){if(l!==!0){var e=r[r.length-1];if(void 0!=e){var t=(new Date).getTime()-e.date.getTime();t>5e3&&(l=!0,o())}}},5e3)}}function o(){if(i.enabled!==!1){var e=r[0].date,n=r[r.length-1].date,a=n.getTime()-e.getTime();t.info("TOTAL: "+a+"ms ("+(a/1e3).toFixed(1)+"s)"),t.info("==================="),r=[],l=!1}}var r=[],i={enabled:!1,addEvent:a,getTotal:o},l=!1;return i}]),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/error/error.tpl.html",'<div class="error-container" ng-if="$root.errorMessage">\n    <h3>An error has occurred</h3>\n    <div class="alert alert-danger">{{$root.errorMessage}}</div>\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/nav/navBtn.tpl.html",'<button ng-click="doAction()" ng-disabled="isDisabled()" md-actions="{{actions}}" class="btn btn-lg btn-default" ng-class="{\'page-btn-left\': (position == \'left\'), \'page-btn-right\': (position == \'right\')}"><span ng-transclude></span></button>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/page/page.tpl.html",'<div class="loader-container alert alert-primary" ng-class="{\'loading\': (page.load.loading)}">\n    <span class="icon icon-spinner5 icon-spin"></span> {{page.load.message}}\n</div>\n<div class="flexbox-container" ng-swipe-right="page.exit()" ng-class="{\'loading\': (page.load.loading)}" id="{{page.name}}-page" ng-form name="pageForm" md-form ng-include="page.template"></div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/area/mdList/mdList.tpl.html",'<div ng-if="show">\n    <div class="md-list" id=\'{{name}}\' ng-init="listFilter = {}">\n        <div class="top" ng-if="search">\n            <div class="input-group">\n                <span class="input-group-addon"><span class="icon icon-search"></span></span>\n                <input type="text" class="form-control" ng-model="listFilter.text">\n            </div>\n        </div>\n        <div class="scrollable">\n            <ul class="{{listClasses}}" ng-switch="model != undefined">\n                <li ng-switch-when="false" class="{{listItemClasses}}" ng-repeat="$item in content | filter:listFilter.text track by $index" ng-click="clickListItem($index)"><span compile-list-row item="$item" row-template="{{row}}"></span><div ng-if="edit" class="remove-icon" ng-click="remove($index)"><span class="icon icon-cross"></span></div></li>\n                <li ng-switch-when="true" class="{{listItemClasses}}" ng-repeat="$item in model | store:listFilter.text track by $index" ng-click="clickListItem($index)"><span compile-list-row item="$item" row-template="{{row}}"></span><div ng-if="edit" class="remove-icon" ng-click="remove($index)"><span class="icon icon-cross"></span></div></li>\n            </ul>\n        </div>\n    </div>\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/md-checkbox.tpl.html",'<div class="container md-checkbox-container">\n    <div class="col-sm-4 checkbox-element" ng-repeat="option in options track by $index">\n        <div class="md-checkbox label label-default" ng-click="makeSelection(option.id)">\n            <span class="icon" ng-class="{\'icon-checkbox-checked\': (model[option.id] == true), \'icon-checkbox-unchecked\': (model[option.id] != true)}"></span>\n            <span translate translate-default="{{option.label}}">{{key + \'.options.\' + option.id}}</span>\n        </div>\n    </div>\n</div>\n<input type="hidden" name="{{name}}" ng-required="required" ng-model="model" />')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/md-radio.tpl.html",'<div class="container md-checkbox-container">\n<div class="col-sm-4 checkbox-element" ng-repeat="option in options track by $index">\n        <div class="md-checkbox label label-default" ng-click="makeSelection(option.value)">\n            <span class="icon" ng-class="{\'icon-radio-checked\': (model == option.value), \'icon-radio-unchecked\': (model != option.value)}"></span>\n            <span translate translate-default="{{option.label}}">{{key + \'.options.\' + option.value}}</span>\n        </div>\n    </div>\n</div>\n<input type="hidden" name="{{name}}" ng-required="required" ng-model="model" />')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/barcode.tpl.html",'<take-barcode code-type="bar" ng-model="$parent.$parent.inputModel"></take-barcode>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/checkbox.tpl.html",'<md-checkbox model="$parent.$parent.inputModel" name="name" required="required" options="options"></md-checkbox>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/date.tpl.html",'<div class="input-group">\n    <div class="input-group-addon"><span class="icon icon-calendar5"></span></div>\n    <input type="text" pick-a-date="$parent.$parent.inputModel" pick-a-date-options="options" class="form-control" name="{{::name}}" ng-disabled="disabled" />\n    <input type="hidden" name="{{::name}}" validation="{{validators}}" ng-required="{{required}}" ng-model="$parent.$parent.inputModel" />\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/datetime.tpl.html",'\n<div class="row datetime-container">\n    <div class="col-xs-6">\n        <div class="input-group">\n            <div class="input-group-addon">\n                <span class="icon icon-calendar5"></span>\n            </div>\n            <input type="text" validation="{{validators}}" pick-a-date date-value="$parent.$parent.inputModel" min="min" max="max" ng-model="dateModel" class="form-control" name="{{::name}}" id="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled">\n        </div>\n    </div>\n    <div class="col-xs-6">\n        <div class="input-group">\n            <div class="input-group-addon">\n                <span class="icon icon-calendar5"></span>\n            </div>\n            <input type="text" validation="{{validators}}" pick-a-time date-value="$parent.$parent.inputModel" tmin="tmin" tmax="tmax" ng-model="dateModel" class="form-control" name="{{::name}}" id="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled">\n        </div>\n    </div>\n</div>\n\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/email.tpl.html",'<div class="input-group">\n    <div class="input-group-addon"><span class="icon icon-envelop"></span></div>\n    <input type="email" md-actions="{{actions}}" valid-email validation="{{validators}}" class="form-control" id="{{::name}}" name="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.inputModel">\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/number.tpl.html",'<input type="number" validation="{{validators}}" md-actions="{{actions}}" min="{{min}}" max="{{max}}" class="form-control" id="{{::name}}" name="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.inputModel" />\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/password.tpl.html",'<div class="input-group">\n    <div class="input-group-addon"><span class="icon icon-lock"></span></div>\n    <input type="password" validation="{{validators}}" md-actions="{{actions}}" class="form-control" id="{{::name}}" name="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.inputModel" />\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/photo.tpl.html",'<take-photo ng-model="$parent.$parent.inputModel" image-url="$parent.$parent.inputModel" quality="quality" source="source" destination="destination"></take-photo>\n<input type="hidden" validation="{{validators}}" name="{{::name}}" ng-model="$parent.$parent.inputModel" ng-required="{{required}}" />')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/qrcode.tpl.html",'<take-barcode code-type="qr" ng-model="$parent.$parent.inputModel"></take-barcode>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/radio.tpl.html",'<md-radio model="$parent.$parent.inputModel" name="name" required="required" options="options" ></md-radio>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/range-slider.tpl.html",'<md-range-slider name="name" model="$parent.$parent.inputModel" required="required" validators="{{validators}}" min="{{min}}" max="{{max}}" step="{{step}}"></md-range-slider>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/rating.tpl.html",'<div star-rating rating-value="$parent.$parent.inputModel" max="max || 5" on-rating-selected="inputModel = rating; updateInputValue(rating);"></div>\n<input type="hidden" validation="{{validators}}" ng-model="$parent.$parent.inputModel" name="{{::name}}" ng-required="{{required}}" />')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/select.tpl.html",'<div ng-switch="searchable == true">\n    <select ng-switch-when="false" class="form-control" md-actions="{{actions}}" ng-class="{\'disabled\': disabled}" md-select validation="{{validators}}" id="{{::name}}" name="{{::name}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.$parent.inputModel" ng-options="option.label group by option.group for option in $parent.options track by option.label">\n        <option value="">Please select...</option>\n    </select>\n    <div ng-switch-when="true">\n        <ol class="nya-bs-select" ng-model="$parent.$parent.$parent.inputModel" data-live-search="true" data-size="5" ng-disabled="disabled">\n            <li nya-bs-option="option in $parent.options group by option.group track by option.label">\n                <span class="dropdown-header" ng-if="$group">{{$group}}</span>\n                <a>{{option.label}}</a>\n            </li>\n        </ol>\n        <input type="hidden" ng-model="$parent.$parent.inputModel" md-actions="{{actions}}" validation="{{validators}}" name="{{::name}}" ng-required="{{required}}" />\n    </div>\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/signature.tpl.html",'<input type="hidden" validation="{{validators}}" name="{{::name}}" ng-model="$parent.$parent.inputModel" ng-required="{{required}}" />\n<div class="signature-frame">\n    <div class="canvas-frame">\n        <canvas md-signature ng-model="$parent.$parent.inputModel"></canvas>\n        <div class="sign-line"></div>\n    </div>\n    <div class="controls">\n        <button class="btn btn-default" ng-click="$parent.$parent.inputModel = undefined;">Clear signature</button>\n    </div>\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/slider.tpl.html",'<md-slider actions="actions" name="name" model="$parent.$parent.inputModel" required="required" validators="{{validators}}" min="{{min}}" max="{{max}}" step="{{step}}"></md-slider>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/smiley.tpl.html",'\n<div class="smiley-container">\n    <a href="javascript:void(0)" class="smile" ng-class="{\'active\': ($parent.$parent.inputModel == true)}" ng-click="$parent.$parent.inputModel = true; $parent.$parent.updateStore(true)"><span class="icon icon-smile"></span></a>\n    <a href="javascript:void(0)" class="frown" ng-class="{\'active\': ($parent.$parent.inputModel == false)}" ng-click="$parent.$parent.inputModel = false; $parent.$parent.updateStore(false)"><span class="icon icon-sad"></span></a>\n</div>\n<input type="hidden" validation="{{validators}}" name="{{::name}}" ng-model="$parent.$parent.inputModel" ng-required="{{required}}" />\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/switch.tpl.html",'<div class="switch-container">\n    <switch id="{{::name}}" name="{{::name}}" ng-model="$parent.$parent.inputModel" class="{{theme || \'green\'}}"></switch>\n    <input type="hidden" validation="{{validators}}" name="{{::name}}" ng-model="$parent.$parent.inputModel" ng-required="{{required}}" />\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/text.tpl.html",'<div ng-switch="multi">\n    <input ng-switch-when="false" type="text" validation="{{validators}}" md-actions="{{actions}}" class="form-control" id="{{::name}}" name="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.$parent.inputModel" ng-model-options="{debounce: { \'default\': 500, \'blur\': 0 }}" />\n    <textarea ng-switch-when="true" class="form-control" validation="{{validators}}" md-actions="{{actions}}" id="{{::name}}" name="{{::name}}" placeholder="{{::placeholder}}" ng-required="{{required}}" ng-disabled="disabled" ng-model="$parent.$parent.$parent.inputModel" rows="3" ng-model-options="{debounce: { \'default\': 500, \'blur\': 0 }}">{{default}}</textarea>\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/thumbs.tpl.html",'\n<div class="thumbs-container">\n    <a href="javascript:void(0)" class="up" ng-class="{\'active\': ($parent.$parent.inputModel == true)}" ng-click="$parent.$parent.inputModel = true; $parent.$parent.updateStore(true)"><span class="icon icon-thumbs-up2"></span></a>\n    <a href="javascript:void(0)" class="down" ng-class="{\'active\': ($parent.$parent.inputModel == false)}" ng-click="$parent.$parent.inputModel = false; $parent.$parent.updateStore(false)"><span class="icon icon-thumbs-down2"></span></a>\n</div>\n<input type="hidden" validation="{{validators}}" name="{{::name}}" ng-model="$parent.$parent.inputModel" ng-required="{{required}}" />\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("components/mdDynamicForm/fields/templates/time.tpl.html",'<div class="input-group" id="{{::name}}">\n    <div class="input-group-addon"><span class="icon icon-clock"></span></div>\n    <input type="text" pick-a-time="$parent.$parent.inputModel" pick-a-time-options="options" class="form-control" ng-disabled="disabled" />\n    <input type="hidden" name="{{::name}}" validation="{{validators}}" ng-required="{{required}}" ng-model="$parent.$parent.inputModel" />\n</div>')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog">\n  <div class="aside-dialog">\n    <div class="aside-content">\n      <div class="aside-header" ng-show="title">\n        <button type="button" class="close" ng-click="$hide()">&times;</button>\n        <h4 class="aside-title" ng-bind="title"></h4>\n      </div>\n      <div class="aside-body" ng-bind="content"></div>\n      <div class="aside-footer">\n        <button type="button" class="btn btn-default" ng-click="$hide()">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]">\n  <button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button>\n  <strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span>\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px;">\n<table style="table-layout: fixed; height: 100%; width: 100%;">\n  <thead>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)">\n          <i class="{{$iconLeft}}"></i>\n        </button>\n      </th>\n      <th colspan="{{ rows[0].length - 2 }}">\n        <button tabindex="-1" type="button" class="btn btn-default btn-block text-strong"  ng-click="$toggleMode()">\n          <strong style="text-transform: capitalize;" ng-bind="title"></strong>\n        </button>\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)">\n          <i class="{{$iconRight}}"></i>\n        </button>\n      </th>\n    </tr>\n    <tr ng-show="showLabels" ng-bind-html="labels"></tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%">\n      <td class="text-center" ng-repeat="(j, el) in row">\n        <button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date)" ng-disabled="el.disabled">\n          <span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span>\n        </button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu">\n  <li role="presentation" ng-class="{divider: item.divider}" ng-repeat="item in content" >\n    <a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a>\n    <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a>\n  </li>\n</ul>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header" ng-show="title">\n        <button type="button" class="close" ng-click="$hide()">&times;</button>\n        <h4 class="modal-title" ng-bind="title"></h4>\n      </div>\n      <div class="modal-body" ng-bind="content"></div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" ng-click="$hide()">Close</button>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/popover/popover.tpl.html",'<div class="popover">\n  <div class="arrow"></div>\n  <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n  <div class="popover-content" ng-bind="content"></div>\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select">\n  <li ng-if="$showAllNoneButtons">\n    <div class="btn-group" style="margin-bottom: 5px; margin-left: 5px">\n      <button class="btn btn-default btn-xs" ng-click="$selectAll()">All</button>\n      <button class="btn btn-default btn-xs" ng-click="$selectNone()">None</button>\n    </div>\n  </li>\n  <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}">\n    <a style="cursor: default;" role="menuitem" tabindex="-1" ng-click="$select($index, $event)">\n      <i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i>\n      <span ng-bind="match.label"></span>\n    </a>\n  </li>\n</ul>\n');
}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist">\n  <li ng-repeat="$pane in $panes track by $index" ng-class="$index == $panes.$active ? $activeClass : \'\'">\n    <a role="tab" data-toggle="tab" ng-click="$setActive($index)" data-index="{{ $index }}" ng-bind-html="$pane.title"></a>\n  </li>\n</ul>\n<div ng-transclude class="tab-content">\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto;">\n<table height="100%">\n  <thead>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)">\n          <i class="{{ $iconUp }}"></i>\n        </button>\n      </th>\n      <th>\n        &nbsp;\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)">\n          <i class="{{ $iconUp }}"></i>\n        </button>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="(i, row) in rows">\n      <td class="text-center">\n        <button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled">\n          <span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span>\n        </button>\n      </td>\n      <td>\n        <span ng-bind="i == midIndex ? timeSeparator : \' \'"></span>\n      </td>\n      <td class="text-center">\n        <button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled">\n          <span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span>\n        </button>\n      </td>\n      <td ng-if="showAM">\n        &nbsp;\n      </td>\n      <td ng-if="showAM">\n        <button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button>\n        <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button>\n      </td>\n    </tr>\n  </tbody>\n  <tfoot>\n    <tr class="text-center">\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)">\n          <i class="{{ $iconDown }}"></i>\n        </button>\n      </th>\n      <th>\n        &nbsp;\n      </th>\n      <th>\n        <button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)">\n          <i class="{{ $iconDown }}"></i>\n        </button>\n      </th>\n    </tr>\n  </tfoot>\n</table>\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="title"></div>\n</div>\n')}])}(),function(e){try{e=angular.module("app.templates")}catch(t){e=angular.module("app.templates",[])}e.run(["$templateCache",function(e){e.put("bower_components/angular-strap/src/typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select">\n  <li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}">\n    <a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a>\n  </li>\n</ul>\n')}])}();